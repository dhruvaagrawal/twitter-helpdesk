{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dhruvaagrawal/Desktop/Work/Projects/Webdev.nosync/Twitter/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(signInWithFBEmail),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(signOut),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(signUpWithFBEmail),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(signInWithFBGoogle),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(signInWithFacebook),_marked6=/*#__PURE__*/_regeneratorRuntime.mark(rootSaga);import{all,takeEvery,put,fork,call}from'redux-saga/effects';import{AUTH_TOKEN,SIGNIN,SIGNOUT,SIGNUP,SIGNIN_WITH_GOOGLE,SIGNIN_WITH_FACEBOOK}from'../constants/Auth';import{showAuthMessage,authenticated,signOutSuccess,signUpSuccess,signInWithGoogleAuthenticated,signInWithFacebookAuthenticated}from\"../actions/Auth\";import FirebaseService from'services/FirebaseService';export function signInWithFBEmail(){return _regeneratorRuntime.wrap(function signInWithFBEmail$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return takeEvery(SIGNIN,/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var payload,email,password,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:payload=_ref.payload;email=payload.email,password=payload.password;_context.prev=2;_context.next=5;return call(FirebaseService.signInEmailRequest,email,password);case 5:user=_context.sent;if(!user.message){_context.next=11;break;}_context.next=9;return put(showAuthMessage(user.message));case 9:_context.next=14;break;case 11:localStorage.setItem(AUTH_TOKEN,user.user.uid);_context.next=14;return put(authenticated(user.user.uid));case 14:_context.next=20;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](2);_context.next=20;return put(showAuthMessage(_context.t0));case 20:case\"end\":return _context.stop();}}},_callee,null,[[2,16]]);}));case 2:case\"end\":return _context2.stop();}}},_marked);}export function signOut(){return _regeneratorRuntime.wrap(function signOut$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return takeEvery(SIGNOUT,/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var signOutUser;return _regeneratorRuntime.wrap(function _callee2$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return call(FirebaseService.signOutRequest);case 3:signOutUser=_context3.sent;if(!(signOutUser===undefined)){_context3.next=10;break;}localStorage.removeItem(AUTH_TOKEN);_context3.next=8;return put(signOutSuccess(signOutUser));case 8:_context3.next=12;break;case 10:_context3.next=12;return put(showAuthMessage(signOutUser.message));case 12:_context3.next=18;break;case 14:_context3.prev=14;_context3.t0=_context3[\"catch\"](0);_context3.next=18;return put(showAuthMessage(_context3.t0));case 18:case\"end\":return _context3.stop();}}},_callee2,null,[[0,14]]);}));case 2:case\"end\":return _context4.stop();}}},_marked2);}export function signUpWithFBEmail(){return _regeneratorRuntime.wrap(function signUpWithFBEmail$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return takeEvery(SIGNUP,/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref2){var payload,email,password,user;return _regeneratorRuntime.wrap(function _callee3$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:payload=_ref2.payload;email=payload.email,password=payload.password;_context5.prev=2;_context5.next=5;return call(FirebaseService.signUpEmailRequest,email,password);case 5:user=_context5.sent;if(!user.message){_context5.next=11;break;}_context5.next=9;return put(showAuthMessage(user.message));case 9:_context5.next=14;break;case 11:localStorage.setItem(AUTH_TOKEN,user.user.uid);_context5.next=14;return put(signUpSuccess(user.user.uid));case 14:_context5.next=20;break;case 16:_context5.prev=16;_context5.t0=_context5[\"catch\"](2);_context5.next=20;return put(showAuthMessage(_context5.t0));case 20:case\"end\":return _context5.stop();}}},_callee3,null,[[2,16]]);}));case 2:case\"end\":return _context6.stop();}}},_marked3);}export function signInWithFBGoogle(){return _regeneratorRuntime.wrap(function signInWithFBGoogle$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return takeEvery(SIGNIN_WITH_GOOGLE,/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var user;return _regeneratorRuntime.wrap(function _callee4$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return call(FirebaseService.signInGoogleRequest);case 3:user=_context7.sent;if(!user.message){_context7.next=9;break;}_context7.next=7;return put(showAuthMessage(user.message));case 7:_context7.next=12;break;case 9:localStorage.setItem(AUTH_TOKEN,user.user.uid);_context7.next=12;return put(signInWithGoogleAuthenticated(user.user.uid));case 12:_context7.next=18;break;case 14:_context7.prev=14;_context7.t0=_context7[\"catch\"](0);_context7.next=18;return put(showAuthMessage(_context7.t0));case 18:case\"end\":return _context7.stop();}}},_callee4,null,[[0,14]]);}));case 2:case\"end\":return _context8.stop();}}},_marked4);}export function signInWithFacebook(){return _regeneratorRuntime.wrap(function signInWithFacebook$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return takeEvery(SIGNIN_WITH_FACEBOOK,/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var user;return _regeneratorRuntime.wrap(function _callee5$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return call(FirebaseService.signInFacebookRequest);case 3:user=_context9.sent;if(!user.message){_context9.next=9;break;}_context9.next=7;return put(showAuthMessage(user.message));case 7:_context9.next=12;break;case 9:localStorage.setItem(AUTH_TOKEN,user.user.uid);_context9.next=12;return put(signInWithFacebookAuthenticated(user.user.uid));case 12:_context9.next=18;break;case 14:_context9.prev=14;_context9.t0=_context9[\"catch\"](0);_context9.next=18;return put(showAuthMessage(_context9.t0));case 18:case\"end\":return _context9.stop();}}},_callee5,null,[[0,14]]);}));case 2:case\"end\":return _context10.stop();}}},_marked5);}export default function rootSaga(){return _regeneratorRuntime.wrap(function rootSaga$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return all([fork(signInWithFBEmail),fork(signOut),fork(signUpWithFBEmail),fork(signInWithFBGoogle),fork(signInWithFacebook)]);case 2:case\"end\":return _context11.stop();}}},_marked6);}","map":{"version":3,"sources":["/Users/dhruvaagrawal/Desktop/Work/Projects/Webdev.nosync/Twitter/app/src/redux/sagas/Auth.js"],"names":["signInWithFBEmail","signOut","signUpWithFBEmail","signInWithFBGoogle","signInWithFacebook","rootSaga","all","takeEvery","put","fork","call","AUTH_TOKEN","SIGNIN","SIGNOUT","SIGNUP","SIGNIN_WITH_GOOGLE","SIGNIN_WITH_FACEBOOK","showAuthMessage","authenticated","signOutSuccess","signUpSuccess","signInWithGoogleAuthenticated","signInWithFacebookAuthenticated","FirebaseService","payload","email","password","signInEmailRequest","user","message","localStorage","setItem","uid","signOutRequest","signOutUser","undefined","removeItem","signUpEmailRequest","signInGoogleRequest","signInFacebookRequest"],"mappings":"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","sourcesContent":["import { all, takeEvery, put, fork, call } from 'redux-saga/effects';\r\nimport {\r\n\tAUTH_TOKEN,\r\n\tSIGNIN,\r\n\tSIGNOUT,\r\n\tSIGNUP,\r\n\tSIGNIN_WITH_GOOGLE,\r\n\tSIGNIN_WITH_FACEBOOK\r\n} from '../constants/Auth';\r\nimport {\r\n\tshowAuthMessage,\r\n\tauthenticated,\r\n\tsignOutSuccess,\r\n\tsignUpSuccess,\r\n\tsignInWithGoogleAuthenticated,\r\n\tsignInWithFacebookAuthenticated\r\n} from \"../actions/Auth\";\r\n\r\nimport FirebaseService from 'services/FirebaseService'\r\n\r\nexport function* signInWithFBEmail() {\r\n  yield takeEvery(SIGNIN, function* ({payload}) {\r\n\t\tconst {email, password} = payload;\r\n\t\ttry {\r\n\t\t\tconst user = yield call(FirebaseService.signInEmailRequest, email, password);\r\n\t\t\tif (user.message) {\r\n\t\t\t\tyield put(showAuthMessage(user.message));\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(AUTH_TOKEN, user.user.uid);\r\n\t\t\t\tyield put(authenticated(user.user.uid));\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tyield put(showAuthMessage(err));\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport function* signOut() {\r\n  yield takeEvery(SIGNOUT, function* () {\r\n\t\ttry {\r\n\t\t\tconst signOutUser = yield call(FirebaseService.signOutRequest);\r\n\t\t\tif (signOutUser === undefined) {\r\n\t\t\t\tlocalStorage.removeItem(AUTH_TOKEN);\r\n\t\t\t\tyield put(signOutSuccess(signOutUser));\r\n\t\t\t} else {\r\n\t\t\t\tyield put(showAuthMessage(signOutUser.message));\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tyield put(showAuthMessage(err));\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport function* signUpWithFBEmail() {\r\n  yield takeEvery(SIGNUP, function* ({payload}) {\r\n\t\tconst {email, password} = payload;\r\n\t\ttry {\r\n\t\t\tconst user = yield call(FirebaseService.signUpEmailRequest, email, password);\r\n\t\t\tif (user.message) {\r\n\t\t\t\tyield put(showAuthMessage(user.message));\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(AUTH_TOKEN, user.user.uid);\r\n\t\t\t\tyield put(signUpSuccess(user.user.uid));\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tyield put(showAuthMessage(error));\r\n\t\t}\r\n\t}\r\n\t);\r\n}\r\n\r\nexport function* signInWithFBGoogle() {\r\n  yield takeEvery(SIGNIN_WITH_GOOGLE, function* () {\r\n\t\ttry {\r\n\t\t\tconst user = yield call(FirebaseService.signInGoogleRequest);\r\n\t\t\tif (user.message) {\r\n\t\t\t\tyield put(showAuthMessage(user.message));\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(AUTH_TOKEN, user.user.uid);\r\n\t\t\t\tyield put(signInWithGoogleAuthenticated(user.user.uid));\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tyield put(showAuthMessage(error));\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport function* signInWithFacebook() {\r\n  yield takeEvery(SIGNIN_WITH_FACEBOOK, function* () {\r\n\t\ttry {\r\n\t\t\tconst user = yield call(FirebaseService.signInFacebookRequest);\r\n\t\t\tif (user.message) {\r\n\t\t\t\tyield put(showAuthMessage(user.message));\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(AUTH_TOKEN, user.user.uid);\r\n\t\t\t\tyield put(signInWithFacebookAuthenticated(user.user.uid));\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tyield put(showAuthMessage(error));\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport default function* rootSaga() {\r\n  yield all([\r\n\t\tfork(signInWithFBEmail),\r\n\t\tfork(signOut),\r\n\t\tfork(signUpWithFBEmail),\r\n\t\tfork(signInWithFBGoogle),\r\n\t\tfork(signInWithFacebook)\r\n  ]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}