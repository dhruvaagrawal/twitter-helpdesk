{"ast":null,"code":"import React,{useEffect}from'react';import{connect}from\"react-redux\";import{Button,Form,Input,Divider,Alert}from\"antd\";import{MailOutlined,LockOutlined}from'@ant-design/icons';import{signIn,showLoading,showAuthMessage,hideAuthMessage}from'redux/actions/Auth';import{useHistory}from\"react-router-dom\";import{motion}from\"framer-motion\";export var LoginForm=function LoginForm(props){var history=useHistory();var showForgetPassword=props.showForgetPassword,hideAuthMessage=props.hideAuthMessage,onForgetPasswordClick=props.onForgetPasswordClick,showLoading=props.showLoading,signIn=props.signIn,token=props.token,loading=props.loading,redirect=props.redirect,showMessage=props.showMessage,message=props.message,allowRedirect=props.allowRedirect;var initialCredential={email:'user1@themenate.net',password:'2005ipo'};var onLogin=function onLogin(values){showLoading();signIn(values);};useEffect(function(){if(token!==null&&allowRedirect){history.push(redirect);}if(showMessage){setTimeout(function(){hideAuthMessage();},3000);}});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(motion.div,{initial:{opacity:0,marginBottom:0},animate:{opacity:showMessage?1:0,marginBottom:showMessage?20:0}},/*#__PURE__*/React.createElement(Alert,{type:\"error\",showIcon:true,message:message})),/*#__PURE__*/React.createElement(Form,{layout:\"vertical\",name:\"login-form\",initialValues:initialCredential,onFinish:onLogin},/*#__PURE__*/React.createElement(Form.Item,{name:\"email\",label:\"Email\",rules:[{required:true,message:'Please input your email'},{type:'email',message:'Please enter a validate email!'}]},/*#__PURE__*/React.createElement(Input,{prefix:/*#__PURE__*/React.createElement(MailOutlined,{className:\"text-primary\"})})),/*#__PURE__*/React.createElement(Form.Item,{name:\"password\",label:/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(showForgetPassword?'d-flex justify-content-between w-100 align-items-center':'')},/*#__PURE__*/React.createElement(\"span\",null,\"Password\"),showForgetPassword&&/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){return onForgetPasswordClick;},className:\"cursor-pointer font-size-sm font-weight-normal text-muted\"},\"Forgot Password?\")),rules:[{required:true,message:'Please input your password'}]},/*#__PURE__*/React.createElement(Input.Password,{prefix:/*#__PURE__*/React.createElement(LockOutlined,{className:\"text-primary\"})})),/*#__PURE__*/React.createElement(Form.Item,null,/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\",block:true,loading:loading},\"Sign In\"))));};LoginForm.defaultProps={showForgetPassword:false};var mapStateToProps=function mapStateToProps(_ref){var auth=_ref.auth;var loading=auth.loading,message=auth.message,showMessage=auth.showMessage,token=auth.token,redirect=auth.redirect;return{loading:loading,message:message,showMessage:showMessage,token:token,redirect:redirect};};var mapDispatchToProps={signIn:signIn,showAuthMessage:showAuthMessage,showLoading:showLoading,hideAuthMessage:hideAuthMessage};export default connect(mapStateToProps,mapDispatchToProps)(LoginForm);","map":{"version":3,"sources":["/Users/dhruvaagrawal/Desktop/Work/Spocto/CMS/app/src/views/auth-views/components/LoginForm.js"],"names":["React","useEffect","connect","Button","Form","Input","Divider","Alert","MailOutlined","LockOutlined","signIn","showLoading","showAuthMessage","hideAuthMessage","useHistory","motion","LoginForm","props","history","showForgetPassword","onForgetPasswordClick","token","loading","redirect","showMessage","message","allowRedirect","initialCredential","email","password","onLogin","values","push","setTimeout","opacity","marginBottom","required","type","defaultProps","mapStateToProps","auth","mapDispatchToProps"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,KAAvB,CAA8BC,OAA9B,CAAuCC,KAAvC,KAAoD,MAApD,CACA,OAASC,YAAT,CAAuBC,YAAvB,KAA2C,mBAA3C,CAEA,OAASC,MAAT,CAAiBC,WAAjB,CAA8BC,eAA9B,CAA+CC,eAA/C,KAAsE,oBAAtE,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,MAAT,KAAuB,eAAvB,CAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,KAAK,CAAI,CACjC,GAAIC,CAAAA,OAAO,CAAGJ,UAAU,EAAxB,CADiC,GAGzBK,CAAAA,kBAHyB,CAG0HF,KAH1H,CAGzBE,kBAHyB,CAGLN,eAHK,CAG0HI,KAH1H,CAGLJ,eAHK,CAGYO,qBAHZ,CAG0HH,KAH1H,CAGYG,qBAHZ,CAGmCT,WAHnC,CAG0HM,KAH1H,CAGmCN,WAHnC,CAGgDD,MAHhD,CAG0HO,KAH1H,CAGgDP,MAHhD,CAGwDW,KAHxD,CAG0HJ,KAH1H,CAGwDI,KAHxD,CAG+DC,OAH/D,CAG0HL,KAH1H,CAG+DK,OAH/D,CAGwEC,QAHxE,CAG0HN,KAH1H,CAGwEM,QAHxE,CAGkFC,WAHlF,CAG0HP,KAH1H,CAGkFO,WAHlF,CAG+FC,OAH/F,CAG0HR,KAH1H,CAG+FQ,OAH/F,CAGwGC,aAHxG,CAG0HT,KAH1H,CAGwGS,aAHxG,CAKjC,GAAMC,CAAAA,iBAAiB,CAAG,CACzBC,KAAK,CAAE,qBADkB,CAEzBC,QAAQ,CAAE,SAFe,CAA1B,CAKA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAC,MAAM,CAAI,CACzBpB,WAAW,GACXD,MAAM,CAACqB,MAAD,CAAN,CACA,CAHD,CAKA9B,SAAS,CAAC,UAAM,CACf,GAAIoB,KAAK,GAAK,IAAV,EAAkBK,aAAtB,CAAqC,CACpCR,OAAO,CAACc,IAAR,CAAaT,QAAb,EACA,CACD,GAAGC,WAAH,CAAgB,CACfS,UAAU,CAAC,UAAM,CAChBpB,eAAe,GACf,CAFS,CAEP,IAFO,CAAV,CAGA,CACD,CATQ,CAAT,CAWA,mBACC,qDACC,oBAAC,MAAD,CAAQ,GAAR,EACC,OAAO,CAAE,CAAEqB,OAAO,CAAE,CAAX,CAAcC,YAAY,CAAE,CAA5B,CADV,CAEC,OAAO,CAAE,CAAGD,OAAO,CAAEV,WAAW,CAAG,CAAH,CAAO,CAA9B,CAAiCW,YAAY,CAAEX,WAAW,CAAG,EAAH,CAAQ,CAAlE,CAFV,eAGC,oBAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,QAAQ,KAA5B,CAA6B,OAAO,CAAGC,OAAvC,EAHD,CADD,cAMC,oBAAC,IAAD,EACC,MAAM,CAAC,UADR,CAEC,IAAI,CAAC,YAFN,CAGC,aAAa,CAAGE,iBAHjB,CAIC,QAAQ,CAAGG,OAJZ,eAMC,oBAAC,IAAD,CAAM,IAAN,EACC,IAAI,CAAC,OADN,CAEC,KAAK,CAAC,OAFP,CAGC,KAAK,CAAE,CAAC,CAAEM,QAAQ,CAAE,IAAZ,CAAiBX,OAAO,CAAE,yBAA1B,CAAD,CAAwD,CAAEY,IAAI,CAAE,OAAR,CAAiBZ,OAAO,CAAE,gCAA1B,CAAxD,CAHR,eAIC,oBAAC,KAAD,EAAO,MAAM,cAAG,oBAAC,YAAD,EAAc,SAAS,CAAC,cAAxB,EAAhB,EAJD,CAND,cAYC,oBAAC,IAAD,CAAM,IAAN,EACC,IAAI,CAAC,UADN,CAEC,KAAK,cACJ,2BAAK,SAAS,WAAMN,kBAAkB,CAAE,yDAAF,CAA8D,EAAtF,CAAd,eACC,2CADD,CAGEA,kBAAkB,eAClB,4BACC,OAAO,CAAG,yBAAMC,CAAAA,qBAAN,EADX,CAEC,SAAS,CAAC,2DAFX,qBAJF,CAHF,CAgBC,KAAK,CAAE,CAAC,CAAEgB,QAAQ,CAAE,IAAZ,CAAkBX,OAAO,CAAE,4BAA3B,CAAD,CAhBR,eAkBC,oBAAC,KAAD,CAAO,QAAP,EAAgB,MAAM,cAAE,oBAAC,YAAD,EAAc,SAAS,CAAC,cAAxB,EAAxB,EAlBD,CAZD,cAgCC,oBAAC,IAAD,CAAM,IAAN,mBACC,oBAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,QAAQ,CAAC,QAAhC,CAAyC,KAAK,KAA9C,CAA+C,OAAO,CAAEH,OAAxD,YADD,CAhCD,CAND,CADD,CA+CA,CAzEM,CAmFPN,SAAS,CAACsB,YAAV,CAAyB,CAAEnB,kBAAkB,CAAE,KAAtB,CAAzB,CAGA,GAAMoB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,MAAc,IAAXC,CAAAA,IAAW,MAAXA,IAAW,IAC7BlB,CAAAA,OAD6B,CACsBkB,IADtB,CAC7BlB,OAD6B,CACpBG,OADoB,CACsBe,IADtB,CACpBf,OADoB,CACXD,WADW,CACsBgB,IADtB,CACXhB,WADW,CACEH,KADF,CACsBmB,IADtB,CACEnB,KADF,CACSE,QADT,CACsBiB,IADtB,CACSjB,QADT,CAEpC,MAAO,CAAED,OAAO,CAAPA,OAAF,CAAWG,OAAO,CAAPA,OAAX,CAAoBD,WAAW,CAAXA,WAApB,CAAiCH,KAAK,CAALA,KAAjC,CAAwCE,QAAQ,CAARA,QAAxC,CAAP,CACD,CAHD,CAKA,GAAMkB,CAAAA,kBAAkB,CAAG,CAAE/B,MAAM,CAANA,MAAF,CAAUE,eAAe,CAAfA,eAAV,CAA2BD,WAAW,CAAXA,WAA3B,CAAwCE,eAAe,CAAfA,eAAxC,CAA3B,CAEA,cAAeX,CAAAA,OAAO,CAACqC,eAAD,CAAkBE,kBAAlB,CAAP,CAA6CzB,SAA7C,CAAf","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { Button, Form, Input, Divider, Alert } from \"antd\";\r\nimport { MailOutlined, LockOutlined } from '@ant-design/icons';\r\nimport PropTypes from 'prop-types';\r\nimport { signIn, showLoading, showAuthMessage, hideAuthMessage } from 'redux/actions/Auth';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\"\r\n\r\nexport const LoginForm = props => {\r\n\tlet history = useHistory();\r\n\r\n\tconst { showForgetPassword, hideAuthMessage, onForgetPasswordClick, showLoading, signIn, token, loading, redirect, showMessage, message, allowRedirect } = props\r\n\r\n\tconst initialCredential = {\r\n\t\temail: 'user1@themenate.net',\r\n\t\tpassword: '2005ipo'\r\n\t}\r\n\r\n\tconst onLogin = values => {\r\n\t\tshowLoading()\r\n\t\tsignIn(values);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (token !== null && allowRedirect) {\r\n\t\t\thistory.push(redirect)\r\n\t\t}\r\n\t\tif(showMessage) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\thideAuthMessage();\r\n\t\t\t}, 3000);\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<motion.div \r\n\t\t\t\tinitial={{ opacity: 0, marginBottom: 0 }} \r\n\t\t\t\tanimate={{  opacity: showMessage ? 1 : 0, marginBottom: showMessage ? 20 : 0 }}> \r\n\t\t\t\t<Alert type=\"error\" showIcon message={ message }></Alert>\r\n\t\t\t</motion.div>\r\n\t\t\t<Form \r\n\t\t\t\tlayout=\"vertical\" \r\n\t\t\t\tname=\"login-form\" \r\n\t\t\t\tinitialValues={ initialCredential }\r\n\t\t\t\tonFinish={ onLogin }\r\n\t\t\t>\r\n\t\t\t\t<Form.Item \r\n\t\t\t\t\tname=\"email\" \r\n\t\t\t\t\tlabel=\"Email\" \r\n\t\t\t\t\trules={[{ required: true,message: 'Please input your email' }, { type: 'email', message: 'Please enter a validate email!' }]}>\r\n\t\t\t\t\t<Input prefix={ <MailOutlined className=\"text-primary\" /> }/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item \r\n\t\t\t\t\tname=\"password\" \r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<div className={`${ showForgetPassword? 'd-flex justify-content-between w-100 align-items-center' : ''}`}>\r\n\t\t\t\t\t\t\t<span>Password</span>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tshowForgetPassword && \r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tonClick={ () => onForgetPasswordClick } \r\n\t\t\t\t\t\t\t\t\tclassName=\"cursor-pointer font-size-sm font-weight-normal text-muted\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tForgot Password?\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t} \r\n\t\t\t\t\trules={[{ required: true, message: 'Please input your password' }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input.Password prefix={<LockOutlined className=\"text-primary\" />}/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" block loading={loading}>\r\n\t\t\t\t\t\tSign In\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nLoginForm.propTypes = {\r\n\tshowForgetPassword: PropTypes.bool,\r\n\textra: PropTypes.oneOfType([\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.element\r\n\t]),\r\n};\r\n\r\nLoginForm.defaultProps = { showForgetPassword: false };\r\n\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n\tconst { loading, message, showMessage, token, redirect } = auth;\r\n  return { loading, message, showMessage, token, redirect }\r\n}\r\n\r\nconst mapDispatchToProps = { signIn, showAuthMessage, showLoading, hideAuthMessage }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm)"]},"metadata":{},"sourceType":"module"}