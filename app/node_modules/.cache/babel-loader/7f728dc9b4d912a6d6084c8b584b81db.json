{"ast":null,"code":"var _jsxFileName = \"/Users/dhruvaagrawal/Desktop/Work/Projects/Webdev.nosync/Twitter/app/src/views/app-views/helpdesk/Conversation.js\";\nimport React from 'react';\nimport ChatData from \"assets/data/chat.data.json\";\nimport { Avatar, Divider, Input, Form, Button, Menu } from 'antd';\nimport { FileOutlined, SendOutlined, PaperClipOutlined, SmileOutlined, AudioMutedOutlined, UserOutlined, DeleteOutlined } from '@ant-design/icons';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport Flex from 'components/shared-components/Flex';\nimport EllipsisDropdown from 'components/shared-components/EllipsisDropdown';\n\nconst menu = () => /*#__PURE__*/React.createElement(Menu, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 2\n  }\n}, /*#__PURE__*/React.createElement(Menu.Item, {\n  key: \"0\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(UserOutlined, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 4\n  }\n}), /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 4\n  }\n}, \"User Info\")), /*#__PURE__*/React.createElement(Menu.Item, {\n  key: \"1\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(AudioMutedOutlined, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 4\n  }\n}), /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 4\n  }\n}, \"Mute Chat\")), /*#__PURE__*/React.createElement(Menu.Divider, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 3\n  }\n}), /*#__PURE__*/React.createElement(Menu.Item, {\n  key: \"3\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(DeleteOutlined, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 4\n  }\n}), /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 4\n  }\n}, \"Delete Chat\")));\n\nexport class Conversation extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.formRef = React.createRef();\n    this.chatBodyRef = React.createRef();\n    this.state = {\n      info: {},\n      msgList: []\n    };\n\n    this.getConversation = currentId => {\n      const data = ChatData.filter(elm => elm.id === currentId);\n      this.setState({\n        info: data[0],\n        msgList: data[0].msg\n      });\n    };\n\n    this.getMsgType = obj => {\n      switch (obj.msgType) {\n        case 'text':\n          return /*#__PURE__*/React.createElement(\"span\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 12\n            }\n          }, obj.text);\n\n        case 'image':\n          return /*#__PURE__*/React.createElement(\"img\", {\n            src: obj.text,\n            alt: obj.text,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 12\n            }\n          });\n\n        case 'file':\n          return /*#__PURE__*/React.createElement(Flex, {\n            alignItems: \"center\",\n            className: \"msg-file\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 5\n            }\n          }, /*#__PURE__*/React.createElement(FileOutlined, {\n            className: \"font-size-md\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 6\n            }\n          }), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"ml-2 font-weight-semibold text-link pointer\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 6\n            }\n          }, /*#__PURE__*/React.createElement(\"u\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 7\n            }\n          }, obj.text)));\n\n        default:\n          return null;\n      }\n    };\n\n    this.scrollToBottom = () => {\n      this.chatBodyRef.current.scrollToBottom();\n    };\n\n    this.onSend = values => {\n      if (values.newMsg) {\n        const newMsgData = {\n          avatar: \"\",\n          from: \"me\",\n          msgType: \"text\",\n          text: values.newMsg,\n          time: \"\"\n        };\n        this.formRef.current.setFieldsValue({\n          newMsg: ''\n        });\n        this.setState({\n          msgList: [...this.state.msgList, newMsgData]\n        });\n      }\n    };\n\n    this.emptyClick = e => {\n      e.preventDefault();\n    };\n\n    this.chatContentHeader = name => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chat-content-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 4\n      }\n    }, name), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(EllipsisDropdown, {\n      menu: menu,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 5\n      }\n    })));\n\n    this.chatContentBody = (props, id) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chat-content-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(Scrollbars, {\n      ref: this.chatBodyRef,\n      autoHide: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 4\n      }\n    }, props.map((elm, i) => /*#__PURE__*/React.createElement(\"div\", {\n      key: `msg-${id}-${i}`,\n      className: `msg ${elm.msgType === 'date' ? 'datetime' : ''} ${elm.from === 'opposite' ? 'msg-recipient' : elm.from === 'me' ? 'msg-sent' : ''}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }\n    }, elm.avatar ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      src: elm.avatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 10\n      }\n    })) : null, elm.text ? /*#__PURE__*/React.createElement(\"div\", {\n      className: `bubble ${!elm.avatar ? 'ml-5' : ''}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bubble-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 10\n      }\n    }, this.getMsgType(elm))) : null))));\n\n    this.chatContentFooter = () => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chat-content-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      name: \"msgInput\",\n      ref: this.formRef,\n      onFinish: this.onSend,\n      className: \"w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"newMsg\",\n      className: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      autoComplete: \"off\",\n      placeholder: \"Reply...\",\n      suffix: /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"/#\",\n        className: \"text-dark font-size-lg mr-3\",\n        onClick: this.emptyClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(PaperClipOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 10\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        shape: \"circle\",\n        type: \"primary\",\n        size: \"small\",\n        onClick: this.onSend,\n        htmlType: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(SendOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 10\n        }\n      }))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 6\n      }\n    }))));\n  }\n\n  componentDidMount() {\n    this.getConversation(this.getUserId());\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      this.getConversation(this.getUserId());\n    }\n\n    this.scrollToBottom();\n  }\n\n  getUserId() {\n    const {\n      id\n    } = this.props.match.params;\n    return parseInt(parseInt(id));\n  }\n\n  render() {\n    const {\n      id\n    } = this.props.match.params;\n    const {\n      info,\n      msgList\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chat-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 4\n      }\n    }, this.chatContentHeader(info.name), this.chatContentBody(msgList, id), this.chatContentFooter());\n  }\n\n}\nexport default Conversation;","map":{"version":3,"sources":["/Users/dhruvaagrawal/Desktop/Work/Projects/Webdev.nosync/Twitter/app/src/views/app-views/helpdesk/Conversation.js"],"names":["React","ChatData","Avatar","Divider","Input","Form","Button","Menu","FileOutlined","SendOutlined","PaperClipOutlined","SmileOutlined","AudioMutedOutlined","UserOutlined","DeleteOutlined","Scrollbars","Flex","EllipsisDropdown","menu","Conversation","Component","formRef","createRef","chatBodyRef","state","info","msgList","getConversation","currentId","data","filter","elm","id","setState","msg","getMsgType","obj","msgType","text","scrollToBottom","current","onSend","values","newMsg","newMsgData","avatar","from","time","setFieldsValue","emptyClick","e","preventDefault","chatContentHeader","name","chatContentBody","props","map","i","chatContentFooter","componentDidMount","getUserId","componentDidUpdate","prevProps","location","pathname","match","params","parseInt","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport ChatData from \"assets/data/chat.data.json\"\nimport { Avatar, Divider, Input, Form, Button, Menu } from 'antd';\nimport { \n\tFileOutlined, \n\tSendOutlined, \n\tPaperClipOutlined, \n\tSmileOutlined, \n\tAudioMutedOutlined,\n\tUserOutlined,\n\tDeleteOutlined\n} from '@ant-design/icons';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport Flex from 'components/shared-components/Flex';\nimport EllipsisDropdown from 'components/shared-components/EllipsisDropdown'\n\nconst menu = () => (\n\t<Menu>\n\t\t<Menu.Item key=\"0\">\n\t\t\t<UserOutlined />\n\t\t\t<span>User Info</span>\n\t\t</Menu.Item>\n\t\t<Menu.Item key=\"1\">\n\t\t\t<AudioMutedOutlined />\n\t\t\t<span>Mute Chat</span>\n\t\t</Menu.Item>\n\t\t<Menu.Divider />\n\t\t<Menu.Item key=\"3\">\n\t\t\t<DeleteOutlined />\n\t\t\t<span>Delete Chat</span>\n\t\t</Menu.Item>\n\t</Menu>\n);\n\nexport class Conversation extends React.Component {\n\tformRef = React.createRef();\n\tchatBodyRef = React.createRef()\n\n\tstate = {\n\t\tinfo: {},\n\t\tmsgList: [],\n\t}\n\t\n\tcomponentDidMount() {\n\t\tthis.getConversation(this.getUserId())\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.props.location.pathname !== prevProps.location.pathname) {\n\t\t\tthis.getConversation(this.getUserId())\t\t\t\n\t\t}\n\t\tthis.scrollToBottom()\n\t}\n\t\n\tgetUserId() {\n\t\tconst { id } = this.props.match.params\n\t\treturn parseInt(parseInt(id))\n\t}\n\t\n\n\tgetConversation = currentId => {\n\t\tconst data = ChatData.filter(elm => elm.id === currentId)\n\t\tthis.setState({\n\t\t\tinfo: data[0],\n\t\t\tmsgList: data[0].msg\n\t\t})\t\n\t}\n\n\tgetMsgType = obj => {\n\t\tswitch (obj.msgType) {\n\t\t\tcase 'text':\n\t\t\t\treturn <span>{obj.text}</span>\n\t\t\tcase 'image':\n\t\t\t\treturn <img src={obj.text} alt={obj.text} />\n\t\t\tcase 'file':\n\t\t\t\treturn (\n\t\t\t\t<Flex alignItems=\"center\" className=\"msg-file\">\n\t\t\t\t\t<FileOutlined className=\"font-size-md\"/>\n\t\t\t\t\t<span className=\"ml-2 font-weight-semibold text-link pointer\">\n\t\t\t\t\t\t<u>{obj.text}</u>\n\t\t\t\t\t</span>\n\t\t\t\t</Flex>\n\t\t\t\t)\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n\n\tscrollToBottom = () => {\n\t\tthis.chatBodyRef.current.scrollToBottom()\n\t}\n\n\tonSend = values => {\n\t\tif (values.newMsg) {\n\t\t\tconst newMsgData = {\n\t\t\t\tavatar: \"\",\n\t\t\t\tfrom: \"me\",\n\t\t\t\tmsgType: \"text\",\n\t\t\t\ttext: values.newMsg,\n\t\t\t\ttime: \"\",\n\t\t\t}\n\t\t\tthis.formRef.current.setFieldsValue({\n\t\t\t\tnewMsg: ''\n\t\t\t});\n\t\t\tthis.setState({\n\t\t\t\tmsgList: [...this.state.msgList, newMsgData]\n\t\t\t})\n\t\t}\n\t};\n\t\n\temptyClick = (e) => {\n    e.preventDefault();\n\t};\n\t\n\tchatContentHeader = name => (\n\t\t<div className=\"chat-content-header\">\n\t\t\t<h4 className=\"mb-0\">{name}</h4>\n\t\t\t<div>\n\t\t\t\t<EllipsisDropdown menu={menu}/>\n\t\t\t</div>\n\t\t</div>\n\t)\n\n\tchatContentBody = (props, id) => (\n\t\t<div className=\"chat-content-body\">\n\t\t\t<Scrollbars ref={this.chatBodyRef} autoHide>\n\t\t\t\t{\n\t\t\t\t\tprops.map((elm, i) => (\n\t\t\t\t\t\t<div \n\t\t\t\t\t\t\tkey={`msg-${id}-${i}`} \n\t\t\t\t\t\t\tclassName={`msg ${elm.msgType === 'date'? 'datetime' : ''} ${elm.from === 'opposite'? 'msg-recipient' : elm.from === 'me'? 'msg-sent' : ''}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\telm.avatar? \n\t\t\t\t\t\t\t\t<div className=\"mr-2\">\n\t\t\t\t\t\t\t\t\t<Avatar src={elm.avatar} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\telm.text?\n\t\t\t\t\t\t\t\t<div className={`bubble ${!elm.avatar? 'ml-5' : ''}`}>\n\t\t\t\t\t\t\t\t\t<div className=\"bubble-wrapper\">\n\t\t\t\t\t\t\t\t\t\t{this.getMsgType(elm)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</Scrollbars>\n\t\t</div>\n\t)\n\n\tchatContentFooter = () => (\n\t\t<div className=\"chat-content-footer\">\n\t\t\t<Form name=\"msgInput\" ref={this.formRef} onFinish={this.onSend} className=\"w-100\">\n\t\t\t\t<Form.Item name=\"newMsg\" className=\"mb-0\">\n\t\t\t\t\t<Input \n\t\t\t\t\t\tautoComplete=\"off\" \n\t\t\t\t\t\tplaceholder=\"Reply...\"\n\t\t\t\t\t\tsuffix={\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\n\t\t\t\t\t\t\t\t<a href=\"/#\" className=\"text-dark font-size-lg mr-3\" onClick={this.emptyClick}>\n\t\t\t\t\t\t\t\t\t<PaperClipOutlined />\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<Button shape=\"circle\" type=\"primary\" size=\"small\" onClick={this.onSend} htmlType=\"submit\">\n\t\t\t\t\t\t\t\t\t<SendOutlined />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Item>\n\t\t\t</Form>\n\t\t</div>\n\t)\n\n\n\trender() {\n\t\tconst { id } = this.props.match.params\n\t\tconst { info, msgList } = this.state\n\t\treturn (\n\t\t\t<div className=\"chat-content\">\n\t\t\t\t{this.chatContentHeader(info.name)}\n\t\t\t\t{this.chatContentBody(msgList, id)}\n\t\t\t\t{this.chatContentFooter()}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\nexport default Conversation"]},"metadata":{},"sourceType":"module"}