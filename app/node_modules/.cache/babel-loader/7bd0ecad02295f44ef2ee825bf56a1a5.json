{"ast":null,"code":"const url = require('url');\n\nmodule.exports = setWarning;\n\nfunction setWarning(reqOrRes, code, message, replace) {\n  //   Warning    = \"Warning\" \":\" 1#warning-value\n  // warning-value = warn-code SP warn-agent SP warn-text [SP warn-date]\n  // warn-code  = 3DIGIT\n  // warn-agent = ( host [ \":\" port ] ) | pseudonym\n  //                 ; the name or pseudonym of the server adding\n  //                 ; the Warning header, for use in debugging\n  // warn-text  = quoted-string\n  // warn-date  = <\"> HTTP-date <\">\n  // (https://tools.ietf.org/html/rfc2616#section-14.46)\n  const host = url.parse(reqOrRes.url).host;\n  const jsonMessage = JSON.stringify(message);\n  const jsonDate = JSON.stringify(new Date().toUTCString());\n  const header = replace ? 'set' : 'append';\n  reqOrRes.headers[header]('Warning', `${code} ${host} ${jsonMessage} ${jsonDate}`);\n}","map":null,"metadata":{},"sourceType":"script"}