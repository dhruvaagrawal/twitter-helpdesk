{"ast":null,"code":"'use strict';\n\nvar log = require('npmlog');\n\nvar EventEmitter = require('events').EventEmitter;\n\nvar perf = new EventEmitter();\nmodule.exports = perf;\nvar timings = {};\nprocess.on('time', time);\nprocess.on('timeEnd', timeEnd);\nperf.on('time', time);\nperf.on('timeEnd', timeEnd);\n\nfunction time(name) {\n  timings[name] = Date.now();\n}\n\nfunction timeEnd(name) {\n  if (name in timings) {\n    perf.emit('timing', name, Date.now() - timings[name]);\n    delete timings[name];\n  } else {\n    log.silly('timing', \"Tried to end timer that doesn't exist:\", name);\n  }\n}","map":null,"metadata":{},"sourceType":"script"}