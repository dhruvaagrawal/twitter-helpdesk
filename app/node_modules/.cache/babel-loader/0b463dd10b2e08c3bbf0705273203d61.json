{"ast":null,"code":"import _toConsumableArray from\"/Users/dhruvaagrawal/Desktop/Work/Spocto/CMS/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/dhruvaagrawal/Desktop/Work/Spocto/CMS/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext,useRef}from'react';import{Modal,Form,Input,Button,Select,DatePicker,Tag,Badge,Divider,Card,Row,Col,Menu,Dropdown,Avatar}from'antd';import{FileTextOutlined,PaperClipOutlined,EllipsisOutlined,StarOutlined,DeleteOutlined,StarFilled,CommentOutlined}from'@ant-design/icons';import{modalModeTypes,AssigneeAvatar,getLabelsColor,getCover,createCommentObject}from'./utils';import{DATE_FORMAT_DD_MM_YYYY}from'constants/DateConstant';import{scrumboardData,memberIds,labels}from'./ScrumboardData';import moment from'moment';import{ScrumboardContext}from'./ScrumboardContext';var Option=Select.Option;var memberTagRender=function memberTagRender(props){return/*#__PURE__*/React.createElement(AssigneeAvatar,{id:props.value,size:25});};function labelTagRender(props){var value=props.value;return/*#__PURE__*/React.createElement(Tag,{className:\"my-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(Badge,{color:getLabelsColor(value)}),/*#__PURE__*/React.createElement(\"span\",null,value)));}var getModalTitle=function getModalTitle(type){switch(type){case modalModeTypes(0):return'New card';case modalModeTypes(2):return'New board';default:return;}};var AddCardForm=function AddCardForm(_ref){var onSubmit=_ref.onSubmit;return/*#__PURE__*/React.createElement(Form,{layout:\"inline\",name:\"add-card-ref\",onFinish:onSubmit},/*#__PURE__*/React.createElement(Form.Item,{name:\"cardTitle\",label:\"Card Title\"},/*#__PURE__*/React.createElement(Input,{autoComplete:\"off\"})),/*#__PURE__*/React.createElement(Form.Item,null,/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\"},\"Add\")));};var UpdateCardForm=function UpdateCardForm(_ref2){var onSubmit=_ref2.onSubmit,cardData=_ref2.cardData,listId=_ref2.listId;var context=useContext(ScrumboardContext);var _useState=useState(cardData.attachments),_useState2=_slicedToArray(_useState,2),attachmentsList=_useState2[0],setAttachmentsList=_useState2[1];var _useState3=useState(cardData.comments),_useState4=_slicedToArray(_useState3,2),commentsList=_useState4[0],setCommentsList=_useState4[1];var _useState5=useState(cardData.cover),_useState6=_slicedToArray(_useState5,2),cover=_useState6[0],setCover=_useState6[1];var commentInput=useRef();useEffect(function(){setAttachmentsList(cardData.attachments);setCommentsList(cardData.comments);setCover(cardData.cover);},[cardData.attachments,cardData.comments,cardData.cover]);var initialValues={name:cardData===null||cardData===void 0?void 0:cardData.name,members:cardData===null||cardData===void 0?void 0:cardData.members,dueDate:(cardData===null||cardData===void 0?void 0:cardData.dueDate)?moment(cardData.dueDate):'',labels:cardData===null||cardData===void 0?void 0:cardData.labels,description:cardData===null||cardData===void 0?void 0:cardData.description};var onCoverChange=function onCoverChange(id){var updatedCover=getCover(id,attachmentsList);updateAttachment(updatedCover);};var submitUpdate=function submitUpdate(values){var updatedValue=values;updatedValue.attachments=attachmentsList;updatedValue.comments=commentsList;updatedValue.cover=cover;updatedValue.id=cardData.id;onSubmit(updatedValue);};var updateAttachment=function updateAttachment(updatedCover){var data=context.columns;var updatadedCards=data[listId].map(function(elm){if(elm.id===cardData.id){elm.attachments=attachmentsList;elm.cover=updatedCover;}return elm;});data[listId]=updatadedCards;context.updateColumns(data);context.updateOrdered(Object.keys(data));};var removeCover=function removeCover(){updateAttachment('');};var submitComment=function submitComment(){var message=commentInput.current.state.value;var currentListId=context.currentListId,columns=context.columns,updateColumns=context.updateColumns,updateOrdered=context.updateOrdered;var data=columns;var newComment=createCommentObject();newComment.message=message;var updatedComment=data[currentListId].map(function(elm){if(elm.id===cardData.id){elm.comments=[].concat(_toConsumableArray(elm.comments),[newComment]);}return elm;});commentInput.current.state.value='';data[currentListId]=updatedComment;updateColumns(data);updateOrdered(Object.keys(data));};return/*#__PURE__*/React.createElement(Form,{name:\"edit-card-ref\",layout:\"vertical\",onFinish:submitUpdate,initialValues:initialValues},/*#__PURE__*/React.createElement(Form.Item,{name:\"name\",className:\"mb-0\"},/*#__PURE__*/React.createElement(Input,{className:\"board-card-modal input\"})),/*#__PURE__*/React.createElement(Form.Item,{className:\"mb-3\"},/*#__PURE__*/React.createElement(\"p\",null,\"Board: \",/*#__PURE__*/React.createElement(\"span\",{className:\"font-weight-semibold\"},listId))),/*#__PURE__*/React.createElement(Form.Item,{label:\"Assigned to\",name:\"members\",className:\"blockform-col col-3\"},/*#__PURE__*/React.createElement(Select,{filterOption:false,tagRender:memberTagRender,mode:\"tags\",removeIcon:null,placeholder:\"None\",className:\"board-card-modal select\"},memberIds.map(function(elm){return/*#__PURE__*/React.createElement(Option,{key:elm,value:elm},/*#__PURE__*/React.createElement(AssigneeAvatar,{id:elm,name:true}));}))),/*#__PURE__*/React.createElement(Form.Item,{label:\"Due Date\",name:\"dueDate\",className:\"blockform-col col-3\"},/*#__PURE__*/React.createElement(DatePicker,{placeholder:\"Due date unset\",className:\"board-card-modal date-picker w-100\",format:DATE_FORMAT_DD_MM_YYYY})),/*#__PURE__*/React.createElement(Form.Item,{label:\"Labels\",name:\"labels\",className:\"blockform-col col-3\"},/*#__PURE__*/React.createElement(Select,{filterOption:false,tagRender:labelTagRender,mode:\"tags\",removeIcon:null,placeholder:\"None\",className:\"board-card-modal select\"},labels.map(function(elm){return/*#__PURE__*/React.createElement(Option,{key:elm.label,value:elm.label},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(Badge,{color:getLabelsColor(elm.label)}),/*#__PURE__*/React.createElement(\"span\",null,elm.label)));}))),/*#__PURE__*/React.createElement(Divider,{className:\"mt-0\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mr-3 font-size-md\"},/*#__PURE__*/React.createElement(FileTextOutlined,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Description\"),/*#__PURE__*/React.createElement(Form.Item,{name:\"description\"},/*#__PURE__*/React.createElement(Input.TextArea,{className:\"board-card-modal text-area\"})))),(attachmentsList===null||attachmentsList===void 0?void 0:attachmentsList.length)>0?/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mr-3 font-size-md\"},/*#__PURE__*/React.createElement(PaperClipOutlined,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Attachments\"),/*#__PURE__*/React.createElement(Row,{gutter:16},attachmentsList===null||attachmentsList===void 0?void 0:attachmentsList.map(function(elm){return/*#__PURE__*/React.createElement(Col,{sm:24,md:8,key:elm.id},/*#__PURE__*/React.createElement(Card,{bodyStyle:{padding:0},cover:/*#__PURE__*/React.createElement(\"div\",{className:\"p-2\"},/*#__PURE__*/React.createElement(\"img\",{className:\"img-fluid\",alt:\"example\",src:elm.src}))},/*#__PURE__*/React.createElement(\"div\",{className:\"px-2 pb-2 d-flex align-items-center justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-0\"},elm.name),/*#__PURE__*/React.createElement(\"span\",{className:\"text-muted font-size-sm\"},elm.size)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},cover===elm.src?/*#__PURE__*/React.createElement(\"div\",{className:\"mr-2 text-warning font-size-md\"},/*#__PURE__*/React.createElement(StarFilled,null)):null,/*#__PURE__*/React.createElement(Dropdown,{placement:\"bottomRight\",overlay:/*#__PURE__*/React.createElement(Menu,null,/*#__PURE__*/React.createElement(Menu.Item,{key:\"0\",onClick:function onClick(){return onCoverChange(elm.id);}},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(StarOutlined,null),/*#__PURE__*/React.createElement(\"span\",{className:\"ml-2\"},\"Set Cover\")))),/*#__PURE__*/React.createElement(Menu.Item,{key:\"1\",onClick:function onClick(){return removeCover();}},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(DeleteOutlined,null),/*#__PURE__*/React.createElement(\"span\",{className:\"ml-2\"},\"Remove\")))),trigger:['click']},/*#__PURE__*/React.createElement(\"a\",{className:\"font-size-md text-gray\",href:\"/#\",onClick:function onClick(e){return e.preventDefault();}},/*#__PURE__*/React.createElement(EllipsisOutlined,{style:{transform:'rotate(90deg)'}})))))));})))):null,(cardData===null||cardData===void 0?void 0:cardData.comments.length)>0?/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mr-3 font-size-md\"},/*#__PURE__*/React.createElement(CommentOutlined,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"mb-3\"},\"Comments (\",commentsList.length,\")\"),commentsList.map(function(elm){return/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 d-flex\",key:elm.id},/*#__PURE__*/React.createElement(\"div\",{className:\"mt-2\"},/*#__PURE__*/React.createElement(Avatar,{src:elm.src})),/*#__PURE__*/React.createElement(\"div\",{className:\"ml-2 bg-gray-lightest p-3 rounded w-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center mb-2\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"mb-0\"},elm.name),/*#__PURE__*/React.createElement(\"span\",{className:\"mx-1\"},\" | \"),/*#__PURE__*/React.createElement(\"span\",{className:\"font-size-sm text-dark\"},moment(elm.date).format('DD MMMM YYYY'))),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0\"},elm.message)));}),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 d-flex\"},/*#__PURE__*/React.createElement(Avatar,{src:\"/img/avatars/thumb-1.jpg\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"ml-2 bg-gray-lightest p-3 rounded w-100\"},/*#__PURE__*/React.createElement(Input,{ref:commentInput,placeholder:\"Write comment\",suffix:/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return submitComment();},className:\"cursor-pointer font-weight-semibold text-primary\"},\"Send\")}))))):null,/*#__PURE__*/React.createElement(Form.Item,{className:\"text-right mb-0\"},/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\"},\"Change\")));};var AddBoardForm=function AddBoardForm(_ref3){var onSubmit=_ref3.onSubmit;return/*#__PURE__*/React.createElement(Form,{layout:\"inline\",name:\"add-board-ref\",onFinish:onSubmit},/*#__PURE__*/React.createElement(Form.Item,{name:\"boardTitle\",label:\"Board Title\",rules:[function(){return{validator:function validator(rule,value){if(scrumboardData[value]){return Promise.reject('Board already exist!');}return Promise.resolve();}};}]},/*#__PURE__*/React.createElement(Input,{autoComplete:\"off\"})),/*#__PURE__*/React.createElement(Form.Item,null,/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\"},\"Add\")));};var ModalForm=function ModalForm(_ref4){var visible=_ref4.visible,modalMode=_ref4.modalMode,cardData=_ref4.cardData,listId=_ref4.listId,onClose=_ref4.onClose,onModalSubmit=_ref4.onModalSubmit;var showClosable=modalMode===modalModeTypes(1)?false:true;var modalWidth=modalMode===modalModeTypes(1)?800:425;var submit=function submit(values,mode){onModalSubmit(values,mode);onClose();};return/*#__PURE__*/React.createElement(Modal,{title:getModalTitle(modalMode),visible:visible,closable:showClosable,footer:null,width:modalWidth,style:modalMode===modalModeTypes(1)?{top:20}:null,destroyOnClose:true,onCancel:function onCancel(){return onClose();}},/*#__PURE__*/React.createElement(\"div\",{style:modalMode===modalModeTypes(1)?{maxHeight:'85vh',overflowY:'auto',overflowX:'hidden'}:null},/*#__PURE__*/React.createElement(\"div\",{className:modalMode===modalModeTypes(1)?'mr-2 ml-2':null},function(){switch(modalMode){case modalModeTypes(0):return/*#__PURE__*/React.createElement(AddCardForm,{onSubmit:function onSubmit(values){return submit(values,modalModeTypes(0));}});case modalModeTypes(1):return/*#__PURE__*/React.createElement(UpdateCardForm,{cardData:cardData,listId:listId,onSubmit:function onSubmit(values){return submit(values,modalModeTypes(1));}});case modalModeTypes(2):return/*#__PURE__*/React.createElement(AddBoardForm,{onSubmit:function onSubmit(values){return submit(values,modalModeTypes(2));}});default:return null;}}())));};export default ModalForm;","map":{"version":3,"sources":["/Users/dhruvaagrawal/Desktop/Work/Spocto/CMS/app/src/views/app-views/journeys/journey-ivr/taskTracker/ModalForm.js"],"names":["React","useState","useEffect","useContext","useRef","Modal","Form","Input","Button","Select","DatePicker","Tag","Badge","Divider","Card","Row","Col","Menu","Dropdown","Avatar","FileTextOutlined","PaperClipOutlined","EllipsisOutlined","StarOutlined","DeleteOutlined","StarFilled","CommentOutlined","modalModeTypes","AssigneeAvatar","getLabelsColor","getCover","createCommentObject","DATE_FORMAT_DD_MM_YYYY","scrumboardData","memberIds","labels","moment","ScrumboardContext","Option","memberTagRender","props","value","labelTagRender","getModalTitle","type","AddCardForm","onSubmit","UpdateCardForm","cardData","listId","context","attachments","attachmentsList","setAttachmentsList","comments","commentsList","setCommentsList","cover","setCover","commentInput","initialValues","name","members","dueDate","description","onCoverChange","id","updatedCover","updateAttachment","submitUpdate","values","updatedValue","data","columns","updatadedCards","map","elm","updateColumns","updateOrdered","Object","keys","removeCover","submitComment","message","current","state","currentListId","newComment","updatedComment","label","length","padding","src","size","e","preventDefault","transform","date","format","AddBoardForm","validator","rule","Promise","reject","resolve","ModalForm","visible","modalMode","onClose","onModalSubmit","showClosable","modalWidth","submit","mode","top","maxHeight","overflowY","overflowX"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext, useRef } from 'react'\nimport { \n\tModal, \n\tForm, \n\tInput, \n\tButton, \n\tSelect, \n\tDatePicker, \n\tTag, \n\tBadge, \n\tDivider, \n\tCard, \n\tRow, \n\tCol, \n\tMenu, \n\tDropdown,\n\tAvatar \n} from 'antd';\nimport { \n\tFileTextOutlined, \n\tPaperClipOutlined, \n\tEllipsisOutlined, \n\tStarOutlined, \n\tDeleteOutlined, \n\tStarFilled, \n\tCommentOutlined \n} from '@ant-design/icons';\nimport { modalModeTypes, AssigneeAvatar, getLabelsColor, getCover, createCommentObject } from './utils';\nimport { DATE_FORMAT_DD_MM_YYYY } from 'constants/DateConstant';\nimport { scrumboardData, memberIds, labels } from './ScrumboardData';\nimport moment from 'moment';\nimport { ScrumboardContext } from './ScrumboardContext'\n\nconst { Option } = Select;\n\nconst memberTagRender = (props) => <AssigneeAvatar id={props.value} size={25} />\n\nfunction labelTagRender(props) {\n  const { value } = props;\n  return (\n\t\t<Tag className=\"my-1\">\n\t\t\t<div className=\"d-flex align-items-center\">\n\t\t\t\t<Badge color={getLabelsColor(value)} />\n\t\t\t\t<span>{value}</span>\n\t\t\t</div>\n\t\t</Tag>\n  );\n}\n\nconst getModalTitle = type => {\n\tswitch (type) {\n\t\tcase modalModeTypes(0):\n\t\t\treturn 'New card';\n\t\tcase modalModeTypes(2):\n\t\t\treturn 'New board';\n\t\tdefault:\n\t\t\treturn;\n\t}\n} \n\nconst AddCardForm = ({onSubmit}) => {\n\treturn (\n\t\t<Form layout=\"inline\" name=\"add-card-ref\" onFinish={onSubmit}>\n\t\t\t<Form.Item name=\"cardTitle\" label=\"Card Title\">\n\t\t\t\t<Input autoComplete=\"off\" />\n\t\t\t</Form.Item>\n\t\t\t<Form.Item>\n\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">Add</Button>\n\t\t\t</Form.Item>\n\t\t</Form>\n\t)\n}\n\nconst UpdateCardForm = ({onSubmit, cardData, listId}) => {\n\tconst context\t= useContext(ScrumboardContext)\n\n\tconst [attachmentsList, setAttachmentsList] = useState(cardData.attachments)\n\tconst [commentsList, setCommentsList] = useState(cardData.comments)\n\tconst [cover, setCover] = useState(cardData.cover)\n\n\tconst commentInput = useRef();\n\n\tuseEffect(() => {\n\t\tsetAttachmentsList(cardData.attachments);\n\t\tsetCommentsList(cardData.comments);\n\t\tsetCover(cardData.cover)\n\t}, [cardData.attachments, cardData.comments, cardData.cover]);\n\n\tconst initialValues = {\n\t\tname: cardData?.name,\n\t\tmembers: cardData?.members,\n\t\tdueDate: cardData?.dueDate ? moment(cardData.dueDate) : '',\n\t\tlabels: cardData?.labels,\n\t\tdescription: cardData?.description,\n\t}\n\n\tconst onCoverChange = id => {\n\t\tconst updatedCover = getCover(id, attachmentsList)\n\t\tupdateAttachment(updatedCover)\n\t}\n\n\tconst submitUpdate = values => {\n\t\tlet updatedValue = values\n\t\tupdatedValue.attachments = attachmentsList\n\t\tupdatedValue.comments = commentsList\n\t\tupdatedValue.cover = cover\n\t\tupdatedValue.id = cardData.id\n\t\tonSubmit(updatedValue)\n\t}\n\n\tconst updateAttachment = (updatedCover) => {\n\t\tconst data = context.columns\n    const updatadedCards = data[listId].map(elm => {\n      if(elm.id === cardData.id) {\n        elm.attachments = attachmentsList;\n        elm.cover = updatedCover\n      }\n      return elm\n    })\n\t\tdata[listId] = updatadedCards\n\t\tcontext.updateColumns(data)\n\t\tcontext.updateOrdered(Object.keys(data))\n\t}\n\n\tconst removeCover = () => {\n\t\tupdateAttachment('')\n\t}\n\n\tconst\tsubmitComment = () => {\n\t\tconst message = commentInput.current.state.value\n\t\tconst { currentListId, columns, updateColumns, updateOrdered } = context\n    const data = columns;\n    let newComment = createCommentObject()\n    newComment.message = message;\n    const updatedComment = data[currentListId].map(elm => {\n      if(elm.id === cardData.id) {\n        elm.comments = [...elm.comments, ...[newComment]];\n      }\n      return elm\n\t\t})\n\t\tcommentInput.current.state.value = ''\n\t\tdata[currentListId] = updatedComment\n\t\tupdateColumns(data)\n\t\tupdateOrdered(Object.keys(data))\n\t}\n\n\treturn (\n\t\t<Form name=\"edit-card-ref\" layout=\"vertical\" onFinish={submitUpdate} initialValues={initialValues}>\n\t\t\t<Form.Item name=\"name\" className=\"mb-0\">\n\t\t\t\t<Input className=\"board-card-modal input\"/>\n\t\t\t</Form.Item>\n\t\t\t<Form.Item className=\"mb-3\">\n\t\t\t\t<p>Board: <span className=\"font-weight-semibold\">{listId}</span></p>\n\t\t\t</Form.Item>\n\t\t\t<Form.Item label=\"Assigned to\" name=\"members\" className=\"blockform-col col-3\">\n\t\t\t\t<Select \n\t\t\t\t\tfilterOption={false} \n\t\t\t\t\ttagRender={memberTagRender} \n\t\t\t\t\tmode=\"tags\" \n\t\t\t\t\tremoveIcon={null}\n\t\t\t\t\tplaceholder=\"None\"\n\t\t\t\t\tclassName=\"board-card-modal select\"\n\t\t\t\t>\n\t\t\t\t\t{\n\t\t\t\t\t\tmemberIds.map(elm => (\n\t\t\t\t\t\t\t<Option key={elm} value={elm}>\n\t\t\t\t\t\t\t\t<AssigneeAvatar id={elm} name/>\n\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t</Select>\n\t\t\t</Form.Item>\n\t\t\t<Form.Item label=\"Due Date\" name=\"dueDate\" className=\"blockform-col col-3\">\n\t\t\t\t<DatePicker placeholder=\"Due date unset\" className=\"board-card-modal date-picker w-100\" format={DATE_FORMAT_DD_MM_YYYY} />\n\t\t\t</Form.Item>\n\t\t\t<Form.Item label=\"Labels\" name=\"labels\" className=\"blockform-col col-3\">\n\t\t\t\t<Select \n\t\t\t\t\tfilterOption={false} \n\t\t\t\t\ttagRender={labelTagRender} \n\t\t\t\t\tmode=\"tags\" \n\t\t\t\t\tremoveIcon={null}\n\t\t\t\t\tplaceholder=\"None\"\n\t\t\t\t\tclassName=\"board-card-modal select\"\n\t\t\t\t>\n\t\t\t\t\t{\n\t\t\t\t\t\tlabels.map(elm => (\n\t\t\t\t\t\t\t<Option key={elm.label} value={elm.label}>\n\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\n\t\t\t\t\t\t\t\t\t<Badge color={getLabelsColor(elm.label)} />\n\t\t\t\t\t\t\t\t\t<span>{elm.label}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t</Select>\n\t\t\t</Form.Item>\n\t\t\t<Divider className=\"mt-0\"/>\n\t\t\t<div className=\"d-flex\">\n\t\t\t\t<div className=\"mr-3 font-size-md\">\n\t\t\t\t\t<FileTextOutlined />\t\n\t\t\t\t</div>\n\t\t\t\t<div className=\"w-100\">\n\t\t\t\t\t<h4>Description</h4>\n\t\t\t\t\t<Form.Item name=\"description\">\n\t\t\t\t\t\t<Input.TextArea className=\"board-card-modal text-area\"/>\n\t\t\t\t\t</Form.Item>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{\n\t\t\t\tattachmentsList?.length > 0? \n\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t<div className=\"mr-3 font-size-md\">\n\t\t\t\t\t\t<PaperClipOutlined />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"w-100\">\n\t\t\t\t\t\t<h4>Attachments</h4>\n\t\t\t\t\t\t<Row gutter={16}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tattachmentsList?.map(elm => (\n\t\t\t\t\t\t\t\t\t<Col sm={24} md={8} key={elm.id}>\n\t\t\t\t\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\t\t\t\t\tbodyStyle={{padding: 0}}\n\t\t\t\t\t\t\t\t\t\t\tcover={\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"p-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" alt=\"example\" src={elm.src} />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"px-2 pb-2 d-flex align-items-center justify-content-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"mb-0\">{elm.name}</h5>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted font-size-sm\">{elm.size}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcover === elm.src ? <div className=\"mr-2 text-warning font-size-md\"><StarFilled /></div> : null\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"bottomRight\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toverlay={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"0\" onClick={() => onCoverChange(elm.id)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StarOutlined />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"ml-2\">Set Cover</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"1\" onClick={() => removeCover()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlined />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"ml-2\">Remove</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrigger={['click']}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a className=\"font-size-md text-gray\" href=\"/#\" onClick={e => e.preventDefault()}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisOutlined style={{transform: 'rotate(90deg)'}}/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t:\n\t\t\t\tnull\n\t\t\t}\n\t\t\t{\n\t\t\t\tcardData?.comments.length > 0? \n\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t<div className=\"mr-3 font-size-md\">\n\t\t\t\t\t\t<CommentOutlined />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"w-100\">\n\t\t\t\t\t\t<h4 className=\"mb-3\">Comments ({commentsList.length})</h4>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcommentsList.map(elm => \n\t\t\t\t\t\t\t\t<div className=\"mb-3 d-flex\" key={elm.id}>\n\t\t\t\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t\t\t\t<Avatar src={elm.src}/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"ml-2 bg-gray-lightest p-3 rounded w-100\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"mb-0\">{elm.name}</h4>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"mx-1\"> | </span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-size-sm text-dark\">{moment(elm.date).format('DD MMMM YYYY')}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"mb-0\">{elm.message}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div className=\"mb-3 d-flex\">\n\t\t\t\t\t\t\t<Avatar src=\"/img/avatars/thumb-1.jpg\"/>\n\t\t\t\t\t\t\t<div className=\"ml-2 bg-gray-lightest p-3 rounded w-100\">\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tref={commentInput}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Write comment\"\n\t\t\t\t\t\t\t\t\tsuffix={\n\t\t\t\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\t\t\t\tonClick={() => submitComment()} \n\t\t\t\t\t\t\t\t\t\t\tclassName=\"cursor-pointer font-weight-semibold text-primary\">\n\t\t\t\t\t\t\t\t\t\t\tSend\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t:\n\t\t\t\tnull \n\t\t\t}\n\t\t\t<Form.Item className=\"text-right mb-0\">\n\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">Change</Button>\n\t\t\t</Form.Item>\n\t\t</Form>\n\t)\t\n}\n\nconst AddBoardForm = ({onSubmit}) => {\n\treturn(\n\t\t<Form layout=\"inline\" name=\"add-board-ref\" onFinish={onSubmit}>\n\t\t\t<Form.Item \n\t\t\t\tname=\"boardTitle\" \n\t\t\t\tlabel=\"Board Title\"\n\t\t\t\trules={[() => ({\n\t\t\t\t\t\tvalidator(rule, value) {\n\t\t\t\t\t\t\tif(scrumboardData[value]) {\n\t\t\t\t\t\t\t\treturn Promise.reject('Board already exist!');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Input autoComplete=\"off\" />\n\t\t\t</Form.Item>\n\t\t\t<Form.Item>\n\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">Add</Button>\n\t\t\t</Form.Item>\n\t\t</Form>\n\t)\n}\n\nconst ModalForm = ({ visible, modalMode, cardData, listId, onClose, onModalSubmit }) => {\n\n\tconst showClosable = modalMode === modalModeTypes(1) ? false : true\n\tconst modalWidth = modalMode === modalModeTypes(1) ? 800 : 425;\n\n\tconst submit = (values, mode) => {\n\t\tonModalSubmit(values, mode)\n\t\tonClose()\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={getModalTitle(modalMode)}\n\t\t\tvisible={visible}\n\t\t\tclosable={showClosable}\n\t\t\tfooter={null}\n\t\t\twidth={modalWidth}\n\t\t\tstyle={modalMode === modalModeTypes(1)? {top: 20} : null}\n\t\t\tdestroyOnClose\n\t\t\tonCancel={() => onClose()}\n\t\t>\n\t\t\t<div style={modalMode === modalModeTypes(1)? {maxHeight: '85vh', overflowY: 'auto', overflowX: 'hidden'} : null}>\n\t\t\t\t<div className={modalMode === modalModeTypes(1)? 'mr-2 ml-2' : null}>\n\t\t\t\t\t{ \n\t\t\t\t\t\t(() => {\n\t\t\t\t\t\t\tswitch(modalMode) {\n\t\t\t\t\t\t\t\tcase modalModeTypes(0):\n\t\t\t\t\t\t\t\t\treturn <AddCardForm onSubmit={values => submit(values, modalModeTypes(0))}/>;\n\t\t\t\t\t\t\t\tcase modalModeTypes(1):\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<UpdateCardForm \n\t\t\t\t\t\t\t\t\t\t\tcardData={cardData} \n\t\t\t\t\t\t\t\t\t\t\tlistId={listId} \n\t\t\t\t\t\t\t\t\t\t\tonSubmit={values => submit(values, modalModeTypes(1))}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tcase modalModeTypes(2):\n\t\t\t\t\t\t\t\t\treturn <AddBoardForm onSubmit={values => submit(values, modalModeTypes(2))}/>;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})()\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t)\n}\n\nexport default ModalForm"]},"metadata":{},"sourceType":"module"}