{"ast":null,"code":"import _toConsumableArray from\"/Users/dhruvaagrawal/Desktop/Work/Spocto/CMS/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _createForOfIteratorHelper from\"/Users/dhruvaagrawal/Desktop/Work/Spocto/CMS/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"/Users/dhruvaagrawal/Desktop/Work/Spocto/CMS/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Calendar,Badge,Card,Row,Col,Modal,Form,Input,Select,TimePicker,Button,Tooltip}from'antd';import CalendarData from'./CalendarData';import moment from'moment';import{CalendarOutlined,DeleteOutlined,InfoCircleOutlined,EyeOutlined}from'@ant-design/icons';var Option=Select.Option;var badgeColors=['pink','red','yellow','orange','cyan','green','blue','purple','geekblue','magenta','volcano','gold','lime'];var initialFormValues={title:'',start:moment('00:00:00','HH:mm:ss'),end:moment('00:00:00','HH:mm:ss'),bullet:badgeColors[0]};var dateFormat='DD MMMM';var AgendaList=function AgendaList(props){var list=props.list,onDelete=props.onDelete;return list.map(function(list){return/*#__PURE__*/React.createElement(\"div\",{key:list.date,className:\"calendar-list\"},/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(CalendarOutlined,null),/*#__PURE__*/React.createElement(\"span\",{className:\"ml-2\"},list.date)),list.event.map(function(eventItem,i){return/*#__PURE__*/React.createElement(\"div\",{key:\"\".concat(eventItem.title,\"-\").concat(i),className:\"calendar-list-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(Badge,{color:eventItem.bullet}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-1\"},eventItem.title),/*#__PURE__*/React.createElement(\"span\",{className:\"text-muted\"},eventItem.start,\" - \",eventItem.end))),/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"calendar-list-item-delete\"},/*#__PURE__*/React.createElement(Tooltip,{title:\"Delete event\"},/*#__PURE__*/React.createElement(DeleteOutlined,{onClick:function onClick(){return onDelete(list.date,i);}}))),/*#__PURE__*/React.createElement(\"div\",{style:{marginLeft:0,paddingLeft:0}},/*#__PURE__*/React.createElement(Tooltip,{title:\"2 IVR, 1 SMS\"},/*#__PURE__*/React.createElement(EyeOutlined,null))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Tooltip,{title:\"Cases: 10686\"},/*#__PURE__*/React.createElement(InfoCircleOutlined,null)))));}));});};var EventModal=function EventModal(_ref){var visible=_ref.visible,addEvent=_ref.addEvent,cancel=_ref.cancel;var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var onSubmit=function onSubmit(values){addEvent(values);};useEffect(function(){form.setFieldsValue(initialFormValues);});return/*#__PURE__*/React.createElement(Modal,{title:\"New Event\",visible:visible,footer:null,destroyOnClose:true,onCancel:cancel},/*#__PURE__*/React.createElement(Form,{form:form,layout:\"vertical\",name:\"new-event\",preserve:false,onFinish:onSubmit},/*#__PURE__*/React.createElement(Form.Item,{name:\"title\",label:\"Title\"},/*#__PURE__*/React.createElement(Input,{autoComplete:\"off\"})),/*#__PURE__*/React.createElement(Row,{gutter:\"16\"},/*#__PURE__*/React.createElement(Col,{span:12},/*#__PURE__*/React.createElement(Form.Item,{name:\"start\",label:\"Start\"},/*#__PURE__*/React.createElement(TimePicker,{className:\"w-100\"}))),/*#__PURE__*/React.createElement(Col,{span:12},/*#__PURE__*/React.createElement(Form.Item,{name:\"end\",label:\"End\"},/*#__PURE__*/React.createElement(TimePicker,{className:\"w-100\"})))),/*#__PURE__*/React.createElement(Form.Item,{name:\"bullet\",label:\"Label\"},/*#__PURE__*/React.createElement(Select,null,badgeColors.map(function(elm){return/*#__PURE__*/React.createElement(Option,{value:elm,key:elm},/*#__PURE__*/React.createElement(Badge,{color:elm}),/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize font-weight-semibold\"},elm));}))),/*#__PURE__*/React.createElement(Form.Item,{className:\"text-right mb-0\"},/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\"},\"Add Event\"))));};var CalendarApp=function CalendarApp(){var _useState=useState(CalendarData),_useState2=_slicedToArray(_useState,2),calendarList=_useState2[0],setCalendarList=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modalVisible=_useState4[0],setModalVisible=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedDate=_useState6[0],setSelectedDate=_useState6[1];var cellRender=function cellRender(value){var listData=getListData(value.format(dateFormat));return/*#__PURE__*/React.createElement(\"ul\",{className:\"calendar-event\"},listData.map(function(item,i){return/*#__PURE__*/React.createElement(\"li\",{key:\"\".concat(item.title,\"-\").concat(i)},/*#__PURE__*/React.createElement(Badge,{color:item.bullet,text:item.title}));}));};var getListData=function getListData(value){var listData=[];calendarList.forEach(function(elm){if(elm.date===value){listData=elm.event;}});return listData;};var _onSelect=function onSelect(value){var selectedDate=value.format(dateFormat);setModalVisible(true);setSelectedDate(selectedDate);};var onDeleteEvent=function onDeleteEvent(date,index){var data=calendarList.map(function(calendarList){if(calendarList.date===date){calendarList.event=calendarList.event.filter(function(_,i){return i!==index;});}return calendarList;}).filter(function(elm){return elm.event.length!==0;});setCalendarList(data);};var onAddEvent=function onAddEvent(values){var data=[{title:values.title?values.title:'Untitled Event',bullet:values.bullet,start:values.start.format('HH:mm A'),end:values.end.format('HH:mm A')}];var newCalendarArr=calendarList;var isExistingDate=newCalendarArr.find(function(x){return x.date===selectedDate;});if(isExistingDate){var _iterator=_createForOfIteratorHelper(newCalendarArr),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var elm=_step.value;if(elm.date===selectedDate){elm.event=[].concat(_toConsumableArray(elm.event),data);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}else{newCalendarArr.push({date:selectedDate,event:data});}var sortedNewCalendarArr=newCalendarArr.sort(function(a,b){return moment(a.date)-moment(b.date);});setModalVisible(false);setCalendarList(sortedNewCalendarArr);};var onAddEventCancel=function onAddEventCancel(){setModalVisible(false);};return/*#__PURE__*/React.createElement(Card,{className:\"calendar mb-0\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:24,sm:24,md:9,lg:6},/*#__PURE__*/React.createElement(\"h2\",{className:\"mb-4\"},\"Agenda\"),/*#__PURE__*/React.createElement(AgendaList,{list:calendarList,onDelete:onDeleteEvent})),/*#__PURE__*/React.createElement(Col,{xs:24,sm:24,md:15,lg:18},/*#__PURE__*/React.createElement(Calendar,{onSelect:function onSelect(val){return _onSelect(val);},dateCellRender:cellRender}))),/*#__PURE__*/React.createElement(EventModal,{visible:modalVisible,addEvent:onAddEvent,cancel:onAddEventCancel}));};export default CalendarApp;","map":{"version":3,"sources":["/Users/dhruvaagrawal/Desktop/Work/Spocto/CMS/app/src/views/app-views/journeys/journey-ivr/dailyTracker/index.js"],"names":["React","useState","useEffect","Calendar","Badge","Card","Row","Col","Modal","Form","Input","Select","TimePicker","Button","Tooltip","CalendarData","moment","CalendarOutlined","DeleteOutlined","InfoCircleOutlined","EyeOutlined","Option","badgeColors","initialFormValues","title","start","end","bullet","dateFormat","AgendaList","props","list","onDelete","map","date","event","eventItem","i","marginLeft","paddingLeft","EventModal","visible","addEvent","cancel","useForm","form","onSubmit","values","setFieldsValue","elm","CalendarApp","calendarList","setCalendarList","modalVisible","setModalVisible","selectedDate","setSelectedDate","cellRender","value","listData","getListData","format","item","forEach","onSelect","onDeleteEvent","index","data","filter","_","length","onAddEvent","newCalendarArr","isExistingDate","find","x","push","sortedNewCalendarArr","sort","a","b","onAddEventCancel","val"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Calendar, Badge, Card, Row, Col, Modal, Form, Input, Select, TimePicker, Button, Tooltip } from 'antd';\nimport CalendarData from './CalendarData';\nimport moment from 'moment';\nimport { CalendarOutlined, DeleteOutlined, InfoCircleOutlined, EyeOutlined } from '@ant-design/icons';\n\nconst { Option } = Select;\n\nconst badgeColors = [\n\t'pink',\n\t'red',\n\t'yellow',\n\t'orange',\n\t'cyan',\n\t'green',\n\t'blue',\n\t'purple',\n\t'geekblue',\n\t'magenta',\n\t'volcano',\n\t'gold',\n\t'lime',\n];\n\nconst initialFormValues = {\n\ttitle: '',\n\tstart: moment('00:00:00', 'HH:mm:ss'),\n\tend: moment('00:00:00', 'HH:mm:ss'),\n\tbullet: badgeColors[0]\n}\n\nconst dateFormat = 'DD MMMM'\n\nconst AgendaList = props => {\n\n\tconst { list, onDelete } = props\n\treturn (\n\t\tlist.map(list => (\n\t\t\t<div key={list.date} className=\"calendar-list\">\n\t\t\t\t<h4>\n\t\t\t\t\t<CalendarOutlined />\n\t\t\t\t\t<span className=\"ml-2\">{list.date}</span>\n\t\t\t\t</h4>\n\t\t\t\t{\n\t\t\t\t\tlist.event.map((eventItem, i) => (\n\t\t\t\t\t\t<div key={`${eventItem.title}-${i}`} className=\"calendar-list-item\">\n\t\t\t\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t\t\t\t<Badge color={eventItem.bullet} />\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<h5 className=\"mb-1\">{eventItem.title}</h5>\n\t\t\t\t\t\t\t\t\t<span className=\"text-muted\">{eventItem.start} - {eventItem.end}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className=\"calendar-list-item-delete\">\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Delete event\">\n\t\t\t\t\t\t\t\t\t\t<DeleteOutlined onClick={() => onDelete(list.date, i)}/>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={{ marginLeft: 0, paddingLeft: 0}}>\n\t\t\t\t\t\t\t\t\t<Tooltip title={`2 IVR, 1 SMS`}>\n\t\t\t\t\t\t\t\t\t\t<EyeOutlined />\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Tooltip title={`Cases: 10686`}>\n\t\t\t\t\t\t\t\t\t\t<InfoCircleOutlined />\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</div>\n\t\t))\n\t)\n}\n\nconst EventModal = ({ visible, addEvent, cancel }) => {\n\tconst [form] = Form.useForm();\n\tconst onSubmit = values => {\n\t\taddEvent(values)\n\t}\n\n\tuseEffect(() => {\n    form.setFieldsValue(initialFormValues);\n\t});\n\n\treturn (\n\t\t<Modal\n      \t\ttitle=\"New Event\"\n\t\t\tvisible={visible}\n\t\t\tfooter={null}\n\t\t\tdestroyOnClose={true}\n      \t\tonCancel={cancel}\n    \t>\n\t\t\t<Form\n        \t\tform={form}\n        \t\tlayout=\"vertical\" \n\t\t\t\tname=\"new-event\"\n\t\t\t\tpreserve={false}\n\t\t\t\tonFinish={onSubmit}\n      \t\t>\n\t\t\t\t<Form.Item name=\"title\" label=\"Title\">\n\t\t\t\t\t<Input autoComplete=\"off\" />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Row gutter=\"16\">\n\t\t\t\t\t<Col span={12} >\n\t\t\t\t\t\t<Form.Item name=\"start\" label=\"Start\">\n\t\t\t\t\t\t\t<TimePicker className=\"w-100\" />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={12} >\n\t\t\t\t\t\t<Form.Item name=\"end\" label=\"End\">\n\t\t\t\t\t\t\t<TimePicker className=\"w-100\" />\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Form.Item name=\"bullet\" label=\"Label\">\n\t\t\t\t\t<Select>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbadgeColors.map(elm => (\n\t\t\t\t\t\t\t\t<Option value={elm} key={elm}>\n\t\t\t\t\t\t\t\t\t<Badge color={elm} />\n\t\t\t\t\t\t\t\t\t<span className=\"text-capitalize font-weight-semibold\">{elm}</span>\n\t\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t}\n\t\t\t\t\t</Select>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item className=\"text-right mb-0\">\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\n\t\t\t\t\t\tAdd Event\n\t\t\t\t\t</Button>\n\t\t\t\t</Form.Item>\n\t\t\t</Form>\n\t\t</Modal>\n\t)\n}\n\nconst CalendarApp = () => {\n\tconst [calendarList, setCalendarList] = useState(CalendarData);\n\tconst [modalVisible, setModalVisible] = useState(false);\n\tconst [selectedDate, setSelectedDate] = useState(null);\n\n\tconst cellRender = value => {\n\t\tconst listData = getListData(value.format((dateFormat)));\n\t\treturn (\n\t\t\t<ul className=\"calendar-event\">\n\t\t\t\t{listData.map((item, i) => (\n\t\t\t\t\t<li key={`${item.title}-${i}`}>\n\t\t\t\t\t\t<Badge color={item.bullet} text={item.title}/>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t);\n\t}\n\n\tconst getListData = (value) => {\n\t\tlet listData = [];\n\t\tcalendarList.forEach(elm => {\n\t\t\tif(elm.date === value) {\n\t\t\t\tlistData = elm.event\n\t\t\t}\n\t\t})\n\t\treturn listData;\n\t}\n\n\tconst onSelect = value => {\n\t\tconst selectedDate = value.format((dateFormat))\n\t\tsetModalVisible(true);\n\t\tsetSelectedDate(selectedDate)\n\t}\n\n\tconst onDeleteEvent = (date, index) => {\n\t\tconst data = calendarList.map(calendarList => {\n\t\t\tif(calendarList.date === date) {\n\t\t\t\tcalendarList.event = calendarList.event.filter( (_, i) => i !== index)\n\t\t\t}\n\t\t\treturn calendarList\n\t\t}).filter(elm => elm.event.length !== 0)\n\t\tsetCalendarList(data)\n\t}\n\n\tconst onAddEvent = values => {\n\t\tconst data = [{\n\t\t\ttitle: values.title? values.title : 'Untitled Event',\n\t\t\tbullet: values.bullet,\n\t\t\tstart: values.start.format(('HH:mm A')),\n\t\t\tend: values.end.format(('HH:mm A')),\n\t\t}]\n\t\tconst newCalendarArr = calendarList\n\t\tconst isExistingDate = newCalendarArr.find(x => x.date === selectedDate)\n\t\tif (isExistingDate) {\n\t\t\tfor (let elm of newCalendarArr) { \n\t\t\t\tif (elm.date === selectedDate) {\n\t\t\t\t\telm.event = [...elm.event, ...data]\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tnewCalendarArr.push({date: selectedDate, event: data})\n\t\t}\n\t\tconst sortedNewCalendarArr  = newCalendarArr.sort((a,b) => moment(a.date) - moment(b.date))\n\t\tsetModalVisible(false)\n\t\tsetCalendarList(sortedNewCalendarArr)\n\t}\n\n\tconst onAddEventCancel = () => {\n\t\tsetModalVisible(false)\n\t}\n\n\treturn (\n\t\t<Card className=\"calendar mb-0\">\n\t\t\t<Row>\n\t\t\t\t<Col xs={24} sm={24} md={9} lg={6}>\n\t\t\t\t\t<h2 className=\"mb-4\">Agenda</h2>\n\t\t\t\t\t<AgendaList \n\t\t\t\t\t\tlist={calendarList} \n\t\t\t\t\t\tonDelete={onDeleteEvent}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t\t<Col xs={24} sm={24} md={15} lg={18}>\n\t\t\t\t\t<Calendar \n\t\t\t\t\t\tonSelect={val => onSelect(val)} \n\t\t\t\t\t\tdateCellRender={cellRender}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<EventModal \n\t\t\t\tvisible={modalVisible}\n\t\t\t\taddEvent={onAddEvent}\n\t\t\t\tcancel={onAddEventCancel}\n\t\t\t/>\n\t\t</Card>\n\t)\n}\n\nexport default CalendarApp\n\n"]},"metadata":{},"sourceType":"module"}