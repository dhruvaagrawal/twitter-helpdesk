{"ast":null,"code":"import React from'react';import{Draggable,Droppable}from'react-beautiful-dnd';import{Card,Tooltip,Tag}from'antd';import{getLabelsColor,AssigneeAvatar}from'./utils';import{CalendarOutlined,CommentOutlined,PaperClipOutlined}from'@ant-design/icons';import moment from'moment';import{Scrollbars}from'react-custom-scrollbars';var InnerCardList=React.memo(function InnerCardList(props){var _props$contents;return(_props$contents=props.contents)===null||_props$contents===void 0?void 0:_props$contents.map(function(item,index){return/*#__PURE__*/React.createElement(Draggable,{key:item.id,draggableId:item.id,index:index},function(dragProvided,dragSnapshot){return/*#__PURE__*/React.createElement(\"div\",Object.assign({className:\"mb-3\",key:item.id,ref:dragProvided.innerRef},dragProvided.draggableProps,dragProvided.dragHandleProps),/*#__PURE__*/React.createElement(Card,{hoverable:true,className:\"board-card\",cover:null,onClick:function onClick(){return props.cardData(item,props.listId);}},item.cover?/*#__PURE__*/React.createElement(\"img\",{src:item.cover,className:\"rounded img-fluid\",alt:\"cover\"}):null,item.labels.map(function(label){return/*#__PURE__*/React.createElement(Tooltip,{title:label,key:label},/*#__PURE__*/React.createElement(\"div\",{className:\"board-label \".concat(getLabelsColor(label))}));}),/*#__PURE__*/React.createElement(\"h4\",{className:\"mb-2\"},item.name),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},item.dueDate?/*#__PURE__*/React.createElement(Tag,{className:\"bg-gray-lightest\"},/*#__PURE__*/React.createElement(CalendarOutlined,null),/*#__PURE__*/React.createElement(\"span\",{className:\"ml-1 font-weight-semibold\"},moment(item.dueDate).format('DD MMMM'))):null,/*#__PURE__*/React.createElement(SubIndicator,{counts:item.comments.length,icon:/*#__PURE__*/React.createElement(CommentOutlined,null)}),/*#__PURE__*/React.createElement(SubIndicator,{counts:item.attachments.length,icon:/*#__PURE__*/React.createElement(PaperClipOutlined,null)})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},item.members.map(function(member){return/*#__PURE__*/React.createElement(AssigneeAvatar,{key:member,id:member,size:25,chain:true});})))));});});});function InnerList(props){var contents=props.contents,dropProvided=props.dropProvided,cardData=props.cardData,listId=props.listId;return/*#__PURE__*/React.createElement(\"div\",{className:\"board-dropzone\",ref:dropProvided.innerRef},/*#__PURE__*/React.createElement(InnerCardList,{cardData:cardData,contents:contents,listId:listId}),dropProvided.placeholder);}function SubIndicator(props){if(props.counts){return/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 mr-2\"},props.icon,/*#__PURE__*/React.createElement(\"span\",{className:\"ml-1\"},props.counts));}return null;}export default function BoardCard(props){var ignoreContainerClipping=props.ignoreContainerClipping,internalScroll=props.internalScroll,scrollContainerStyle=props.scrollContainerStyle,isDropDisabled=props.isDropDisabled,isCombineEnabled=props.isCombineEnabled,_props$listId=props.listId,listId=_props$listId===void 0?'LIST':_props$listId,listType=props.listType,style=props.style,contents=props.contents,useClone=props.useClone,cardData=props.cardData;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Droppable,{droppableId:listId,type:listType,ignoreContainerClipping:ignoreContainerClipping,isDropDisabled:isDropDisabled,isCombineEnabled:isCombineEnabled,renderClone:useClone},function(dropProvided,dropSnapshot){return/*#__PURE__*/React.createElement(Scrollbars,Object.assign({style:style,className:\"board-wrapper\",autoHide:true},dropProvided.droppableProps),internalScroll?/*#__PURE__*/React.createElement(\"div\",{className:\"board-scrollContainer\",style:scrollContainerStyle},/*#__PURE__*/React.createElement(InnerList,{contents:contents,listId:listId,cardData:cardData,dropProvided:dropProvided})):/*#__PURE__*/React.createElement(InnerList,{contents:contents,listId:listId,cardData:cardData,dropProvided:dropProvided}));}));}","map":{"version":3,"sources":["/Users/dhruvaagrawal/Desktop/Work/Spocto/CMS/app/src/views/app-views/journeys/journey-ivr/taskTracker/BoardCard.js"],"names":["React","Draggable","Droppable","Card","Tooltip","Tag","getLabelsColor","AssigneeAvatar","CalendarOutlined","CommentOutlined","PaperClipOutlined","moment","Scrollbars","InnerCardList","memo","props","contents","map","item","index","id","dragProvided","dragSnapshot","innerRef","draggableProps","dragHandleProps","cardData","listId","cover","labels","label","name","dueDate","format","comments","length","attachments","members","member","InnerList","dropProvided","placeholder","SubIndicator","counts","icon","BoardCard","ignoreContainerClipping","internalScroll","scrollContainerStyle","isDropDisabled","isCombineEnabled","listType","style","useClone","dropSnapshot","droppableProps"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,SAApB,KAAqC,qBAArC,CACA,OAASC,IAAT,CAAeC,OAAf,CAAwBC,GAAxB,KAAmC,MAAnC,CACA,OAASC,cAAT,CAAyBC,cAAzB,KAA+C,SAA/C,CACA,OAASC,gBAAT,CAA2BC,eAA3B,CAA4CC,iBAA5C,KAAqE,mBAArE,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,OAASC,UAAT,KAA2B,yBAA3B,CAEA,GAAMC,CAAAA,aAAa,CAAGb,KAAK,CAACc,IAAN,CAAW,QAASD,CAAAA,aAAT,CAAuBE,KAAvB,CAA8B,qBAC7D,uBAAOA,KAAK,CAACC,QAAb,0CAAO,gBAAgBC,GAAhB,CAAoB,SAACC,IAAD,CAAOC,KAAP,qBACzB,oBAAC,SAAD,EAAW,GAAG,CAAED,IAAI,CAACE,EAArB,CAAyB,WAAW,CAAEF,IAAI,CAACE,EAA3C,CAA+C,KAAK,CAAED,KAAtD,EACG,SAAEE,YAAF,CAAgBC,YAAhB,qBACC,yCACE,SAAS,CAAC,MADZ,CAEE,GAAG,CAAEJ,IAAI,CAACE,EAFZ,CAGH,GAAG,CAAEC,YAAY,CAACE,QAHf,EAICF,YAAY,CAACG,cAJd,CAKCH,YAAY,CAACI,eALd,eAOE,oBAAC,IAAD,EACE,SAAS,KADX,CAEE,SAAS,CAAC,YAFZ,CAGE,KAAK,CAAE,IAHT,CAIE,OAAO,CAAE,yBAAMV,CAAAA,KAAK,CAACW,QAAN,CAAeR,IAAf,CAAqBH,KAAK,CAACY,MAA3B,CAAN,EAJX,EAMGT,IAAI,CAACU,KAAL,cAAa,2BAAK,GAAG,CAAEV,IAAI,CAACU,KAAf,CAAsB,SAAS,CAAC,mBAAhC,CAAoD,GAAG,CAAC,OAAxD,EAAb,CAAiF,IANpF,CAOGV,IAAI,CAACW,MAAL,CAAYZ,GAAZ,CAAgB,SAAAa,KAAK,qBACpB,oBAAC,OAAD,EAAS,KAAK,CAAEA,KAAhB,CAAuB,GAAG,CAAEA,KAA5B,eACE,2BAAK,SAAS,uBAAiBxB,cAAc,CAACwB,KAAD,CAA/B,CAAd,EADF,CADoB,EAArB,CAPH,cAYE,0BAAI,SAAS,CAAC,MAAd,EAAsBZ,IAAI,CAACa,IAA3B,CAZF,cAaE,2BAAK,SAAS,CAAC,mDAAf,eACE,2BAAK,SAAS,CAAC,2BAAf,EACGb,IAAI,CAACc,OAAL,cACC,oBAAC,GAAD,EAAK,SAAS,CAAC,kBAAf,eACE,oBAAC,gBAAD,MADF,cAEE,4BAAM,SAAS,CAAC,2BAAhB,EAA6CrB,MAAM,CAACO,IAAI,CAACc,OAAN,CAAN,CAAqBC,MAArB,CAA4B,SAA5B,CAA7C,CAFF,CADD,CAMC,IAPJ,cASE,oBAAC,YAAD,EAAc,MAAM,CAAEf,IAAI,CAACgB,QAAL,CAAcC,MAApC,CAA4C,IAAI,cAAE,oBAAC,eAAD,MAAlD,EATF,cAUE,oBAAC,YAAD,EAAc,MAAM,CAAEjB,IAAI,CAACkB,WAAL,CAAiBD,MAAvC,CAA+C,IAAI,cAAE,oBAAC,iBAAD,MAArD,EAVF,CADF,cAaE,2BAAK,SAAS,CAAC,QAAf,EACGjB,IAAI,CAACmB,OAAL,CAAapB,GAAb,CAAiB,SAAAqB,MAAM,qBACtB,oBAAC,cAAD,EAAgB,GAAG,CAAEA,MAArB,CAA6B,EAAE,CAAEA,MAAjC,CAAyC,IAAI,CAAE,EAA/C,CAAmD,KAAK,KAAxD,EADsB,EAAvB,CADH,CAbF,CAbF,CAPF,CADD,EADH,CADyB,EAApB,CAAP,CA+CD,CAhDqB,CAAtB,CAkDA,QAASC,CAAAA,SAAT,CAAmBxB,KAAnB,CAA0B,IAChBC,CAAAA,QADgB,CAC6BD,KAD7B,CAChBC,QADgB,CACNwB,YADM,CAC6BzB,KAD7B,CACNyB,YADM,CACQd,QADR,CAC6BX,KAD7B,CACQW,QADR,CACkBC,MADlB,CAC6BZ,KAD7B,CACkBY,MADlB,CAGxB,mBACE,2BAAK,SAAS,CAAC,gBAAf,CAAgC,GAAG,CAAEa,YAAY,CAACjB,QAAlD,eACE,oBAAC,aAAD,EAAe,QAAQ,CAAEG,QAAzB,CAAmC,QAAQ,CAAEV,QAA7C,CAAuD,MAAM,CAAEW,MAA/D,EADF,CAEGa,YAAY,CAACC,WAFhB,CADF,CAMD,CAED,QAASC,CAAAA,YAAT,CAAsB3B,KAAtB,CAA6B,CAC3B,GAAGA,KAAK,CAAC4B,MAAT,CAAiB,CACf,mBACE,yBAAG,SAAS,CAAC,WAAb,EACG5B,KAAK,CAAC6B,IADT,cAEE,4BAAM,SAAS,CAAC,MAAhB,EAAwB7B,KAAK,CAAC4B,MAA9B,CAFF,CADF,CAMD,CACD,MAAO,KAAP,CACD,CAED,cAAe,SAASE,CAAAA,SAAT,CAAmB9B,KAAnB,CAA0B,IAErC+B,CAAAA,uBAFqC,CAanC/B,KAbmC,CAErC+B,uBAFqC,CAGrCC,cAHqC,CAanChC,KAbmC,CAGrCgC,cAHqC,CAIrCC,oBAJqC,CAanCjC,KAbmC,CAIrCiC,oBAJqC,CAKrCC,cALqC,CAanClC,KAbmC,CAKrCkC,cALqC,CAMrCC,gBANqC,CAanCnC,KAbmC,CAMrCmC,gBANqC,eAanCnC,KAbmC,CAOrCY,MAPqC,CAOrCA,MAPqC,wBAO5B,MAP4B,eAQrCwB,QARqC,CAanCpC,KAbmC,CAQrCoC,QARqC,CASrCC,KATqC,CAanCrC,KAbmC,CASrCqC,KATqC,CAUrCpC,QAVqC,CAanCD,KAbmC,CAUrCC,QAVqC,CAWrCqC,QAXqC,CAanCtC,KAbmC,CAWrCsC,QAXqC,CAYrC3B,QAZqC,CAanCX,KAbmC,CAYrCW,QAZqC,CAcxC,mBACG,qDACE,oBAAC,SAAD,EACE,WAAW,CAAEC,MADf,CAEE,IAAI,CAAEwB,QAFR,CAGE,uBAAuB,CAAEL,uBAH3B,CAIE,cAAc,CAAEG,cAJlB,CAKE,gBAAgB,CAAEC,gBALpB,CAME,WAAW,CAAEG,QANf,EAQG,SACCb,YADD,CAECc,YAFD,qBAIC,oBAAC,UAAD,gBAAY,KAAK,CAAEF,KAAnB,CAA0B,SAAS,CAAC,eAApC,CAAoD,QAAQ,KAA5D,EAAiEZ,YAAY,CAACe,cAA9E,EACGR,cAAc,cACb,2BAAK,SAAS,CAAC,uBAAf,CAAuC,KAAK,CAAEC,oBAA9C,eACE,oBAAC,SAAD,EACE,QAAQ,CAAEhC,QADZ,CAEE,MAAM,CAAEW,MAFV,CAGE,QAAQ,CAAED,QAHZ,CAIE,YAAY,CAAEc,YAJhB,EADF,CADa,cAUb,oBAAC,SAAD,EACE,QAAQ,CAAExB,QADZ,CAEE,MAAM,CAAEW,MAFV,CAGE,QAAQ,CAAED,QAHZ,CAIE,YAAY,CAAEc,YAJhB,EAXJ,CAJD,EARH,CADF,CADH,CAqCA","sourcesContent":["import React from 'react'\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\nimport { Card, Tooltip, Tag } from 'antd';\nimport { getLabelsColor, AssigneeAvatar } from './utils';\nimport { CalendarOutlined, CommentOutlined, PaperClipOutlined } from '@ant-design/icons';\nimport moment from 'moment';\nimport { Scrollbars } from 'react-custom-scrollbars';\n\nconst InnerCardList = React.memo(function InnerCardList(props) {\n  return props.contents?.map((item, index) => (\n    <Draggable key={item.id} draggableId={item.id} index={index}>\n      {( dragProvided, dragSnapshot) => (\n        <div\n          className='mb-3'\n          key={item.id}\n\t\t\t\t\tref={dragProvided.innerRef}\n\t\t\t\t\t{...dragProvided.draggableProps}\n\t\t\t\t\t{...dragProvided.dragHandleProps}\n        >\n          <Card \n            hoverable \n            className='board-card'\n            cover={null} \n            onClick={() => props.cardData(item, props.listId)}\n          >\n            {item.cover ? <img src={item.cover} className=\"rounded img-fluid\" alt=\"cover\"/> : null}\n            {item.labels.map(label => \n              <Tooltip title={label} key={label}>\n                <div className={`board-label ${getLabelsColor(label)}`}></div>\n              </Tooltip>\n            )}\n            <h4 className=\"mb-2\">{item.name}</h4>\n            <div className=\"d-flex justify-content-between align-items-center\">\n              <div className=\"d-flex align-items-center\">\n                {item.dueDate?\n                  <Tag className=\"bg-gray-lightest\" > \n                    <CalendarOutlined />\n                    <span className=\"ml-1 font-weight-semibold\">{moment(item.dueDate).format('DD MMMM')}</span>\n                  </Tag>\n                  :\n                  null\n                }\n                <SubIndicator counts={item.comments.length} icon={<CommentOutlined />}/>\n                <SubIndicator counts={item.attachments.length} icon={<PaperClipOutlined />}/>\n              </div>\n              <div className=\"d-flex\">\n                {item.members.map(member =>\n                  <AssigneeAvatar key={member} id={member} size={25} chain/>\n                )}\n              </div>\n            </div>\n          </Card>\n\t\t\t\t</div>\n      )}\n    </Draggable>\n  ));\n});\n\nfunction InnerList(props) {\n  const { contents, dropProvided, cardData, listId } = props;\n\n  return (\n    <div className=\"board-dropzone\" ref={dropProvided.innerRef}>\n      <InnerCardList cardData={cardData} contents={contents} listId={listId}/>\n      {dropProvided.placeholder}\n    </div>\n  );\n}\n\nfunction SubIndicator(props) {\n  if(props.counts) {\n    return (\n      <p className=\"mb-0 mr-2\">\n        {props.icon}\n        <span className=\"ml-1\">{props.counts}</span>\n      </p>\n    )\n  }\n  return null\n}\n\nexport default function BoardCard(props) {\n\tconst {\n    ignoreContainerClipping,\n    internalScroll,\n    scrollContainerStyle,\n    isDropDisabled,\n    isCombineEnabled,\n    listId = 'LIST',\n    listType,\n    style,\n    contents,\n    useClone,\n    cardData\n  } = props;\n\treturn (\n    <>\n      <Droppable\n        droppableId={listId}\n        type={listType}\n        ignoreContainerClipping={ignoreContainerClipping}\n        isDropDisabled={isDropDisabled}\n        isCombineEnabled={isCombineEnabled}\n        renderClone={useClone}\n      >\n        {(\n          dropProvided,\n          dropSnapshot,\n        ) => (\n          <Scrollbars style={style} className=\"board-wrapper\" autoHide {...dropProvided.droppableProps}>\n            {internalScroll ? (\n              <div className=\"board-scrollContainer\" style={scrollContainerStyle}>\n                <InnerList\n                  contents={contents}\n                  listId={listId}\n                  cardData={cardData}\n                  dropProvided={dropProvided}\n                />\n              </div>\n            ) : (\n              <InnerList\n                contents={contents}\n                listId={listId}\n                cardData={cardData}\n                dropProvided={dropProvided}\n              />\n            )}\n          </Scrollbars>\n        )}\n      </Droppable>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}