{"ast":null,"code":"import _slicedToArray from\"/Users/dhruvaagrawal/Desktop/Work/Spocto/CMS/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _createForOfIteratorHelper from\"/Users/dhruvaagrawal/Desktop/Work/Spocto/CMS/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import React,{useState,useRef}from'react';import{DashboardOutlined,AppstoreOutlined,AntDesignOutlined,FileTextOutlined,SearchOutlined}from'@ant-design/icons';import{Link}from\"react-router-dom\";import{AutoComplete,Input}from'antd';import IntlMessage from'components/util-components/IntlMessage';import navigationConfig from\"configs/NavigationConfig\";function getOptionList(navigationTree,optionTree){optionTree=optionTree?optionTree:[];var _iterator=_createForOfIteratorHelper(navigationTree),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var navItem=_step.value;if(navItem.submenu.length===0){optionTree.push(navItem);}if(navItem.submenu.length>0){getOptionList(navItem.submenu,optionTree);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return optionTree;}var optionList=getOptionList(navigationConfig);var getCategoryIcon=function getCategoryIcon(category){switch(category){case'dashboards':return/*#__PURE__*/React.createElement(DashboardOutlined,{className:\"text-success\"});case'apps':return/*#__PURE__*/React.createElement(AppstoreOutlined,{className:\"text-danger\"});case'components':return/*#__PURE__*/React.createElement(AntDesignOutlined,{className:\"text-primary\"});case'extra':return/*#__PURE__*/React.createElement(FileTextOutlined,{className:\"text-warning\"});default:return null;}};var searchResult=function searchResult(){return optionList.map(function(item){var category=item.key.split('-')[0];return{value:item.path,label:/*#__PURE__*/React.createElement(Link,{to:item.path},/*#__PURE__*/React.createElement(\"div\",{className:\"search-list-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"icon\"},getCategoryIcon(category)),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"font-weight-semibold\"},/*#__PURE__*/React.createElement(IntlMessage,{id:item.title})),/*#__PURE__*/React.createElement(\"div\",{className:\"font-size-sm text-muted\"},category,\" \"))))};});};var SearchInput=function SearchInput(props){var active=props.active,close=props.close,isMobile=props.isMobile,mode=props.mode;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),options=_useState4[0],setOptions=_useState4[1];var inputRef=useRef(null);var onSelect=function onSelect(){setValue('');setOptions([]);if(close){close();}};var onSearch=function onSearch(searchText){setValue(searchText);setOptions(!searchText?[]:searchResult(searchText));};var autofocus=function autofocus(){inputRef.current.focus();};if(active){autofocus();}return/*#__PURE__*/React.createElement(AutoComplete,{ref:inputRef,className:\"nav-search-input \".concat(isMobile?'is-mobile':'',\" \").concat(mode==='light'?'light':''),dropdownClassName:\"nav-search-dropdown\",options:options,onSelect:onSelect,onSearch:onSearch,value:value,filterOption:function filterOption(inputValue,option){return option.value.toUpperCase().indexOf(inputValue.toUpperCase())!==-1;}},/*#__PURE__*/React.createElement(Input,{placeholder:\"Search...\",prefix:/*#__PURE__*/React.createElement(SearchOutlined,{className:\"mr-0\"})}));};export default SearchInput;","map":{"version":3,"sources":["/Users/dhruvaagrawal/Desktop/Work/Spocto/CMS/app/src/components/layout-components/NavSearch/SearchInput.js"],"names":["React","useState","useRef","DashboardOutlined","AppstoreOutlined","AntDesignOutlined","FileTextOutlined","SearchOutlined","Link","AutoComplete","Input","IntlMessage","navigationConfig","getOptionList","navigationTree","optionTree","navItem","submenu","length","push","optionList","getCategoryIcon","category","searchResult","map","item","key","split","value","path","label","title","SearchInput","props","active","close","isMobile","mode","setValue","options","setOptions","inputRef","onSelect","onSearch","searchText","autofocus","current","focus","inputValue","option","toUpperCase","indexOf"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport { \r\n\tDashboardOutlined,\r\n\tAppstoreOutlined,\r\n\tAntDesignOutlined,\r\n\tFileTextOutlined,\r\n\tSearchOutlined\r\n} from '@ant-design/icons';\r\nimport { Link } from \"react-router-dom\";\r\nimport { AutoComplete, Input } from 'antd';\r\nimport IntlMessage from 'components/util-components/IntlMessage';\r\nimport navigationConfig from \"configs/NavigationConfig\";\r\n\r\nfunction getOptionList (navigationTree, optionTree) {\r\n\toptionTree = optionTree ? optionTree : [];\r\n\tfor ( const navItem of navigationTree ) {\r\n\t\tif(navItem.submenu.length === 0) {\r\n\t\t\toptionTree.push(navItem)\r\n\t\t}\r\n\t\tif(navItem.submenu.length > 0) {\r\n\t\t\tgetOptionList(navItem.submenu, optionTree);\r\n\t\t}\r\n\t}\r\n\treturn optionTree \r\n}\r\n\r\nconst optionList = getOptionList(navigationConfig)\r\n\r\nconst getCategoryIcon = category => {\r\n\tswitch (category) {\r\n\t\tcase 'dashboards':\r\n\t\t\treturn <DashboardOutlined className=\"text-success\"/>;\r\n\t\tcase 'apps':\r\n\t\t\treturn <AppstoreOutlined className=\"text-danger\"/>;\r\n\t\tcase 'components':\r\n\t\t\treturn <AntDesignOutlined className=\"text-primary\"/>;\r\n\t\tcase 'extra':\r\n\t\t\treturn <FileTextOutlined className=\"text-warning\"/>;\r\n\t\tdefault:\r\n\t\t\treturn null;\r\n\t}\r\n}\r\n\r\nconst searchResult = () => optionList.map((item) => {\r\n\tconst category = item.key.split('-')[0]\r\n\treturn {\r\n\t\tvalue: item.path,\r\n\t\tlabel: (\r\n\t\t\t<Link to={item.path}>\r\n\t\t\t\t<div className=\"search-list-item\">\r\n\t\t\t\t\t<div className=\"icon\">\r\n\t\t\t\t\t\t{getCategoryIcon(category)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"font-weight-semibold\"><IntlMessage id={item.title} /></div>\r\n\t\t\t\t\t\t<div className=\"font-size-sm text-muted\">{category} </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t),\r\n\t};\r\n});\r\n\r\nconst SearchInput = props => {\r\n\tconst { active, close, isMobile, mode } = props\r\n\tconst [value, setValue] = useState('');\r\n\tconst [options, setOptions] = useState([])\r\n\tconst inputRef = useRef(null);\r\n\r\n\tconst onSelect = () => {\r\n\t\tsetValue('')\r\n\t\tsetOptions([])\r\n\t\tif(close) {\r\n\t\t\tclose()\r\n\t\t}\r\n  };\r\n\r\n\tconst onSearch = searchText => {\r\n\t\tsetValue(searchText)\r\n\t\tsetOptions(!searchText ? [] : searchResult(searchText))\r\n\t};\r\n\t\r\n\tconst autofocus = () => {\r\n\t\tinputRef.current.focus();\r\n\t}\r\n\r\n\tif(active) {\r\n\t\tautofocus()\r\n\t}\r\n\r\n\treturn (\r\n\t\t<AutoComplete\r\n\t\t\tref={inputRef} \r\n\t\t\tclassName={`nav-search-input ${isMobile? 'is-mobile' : ''} ${mode === 'light' ? 'light' : ''}`}\r\n\t\t\tdropdownClassName=\"nav-search-dropdown\"\r\n\t\t\toptions={options}\r\n\t\t\tonSelect={onSelect}\r\n\t\t\tonSearch={onSearch}\r\n\t\t\tvalue={value}\r\n\t\t\tfilterOption={(inputValue, option) => \r\n\t\t\t\toption.value.toUpperCase().indexOf(inputValue.toUpperCase()) !== -1\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t<Input placeholder=\"Search...\"  prefix={<SearchOutlined className=\"mr-0\" />} />\r\n\t\t</AutoComplete>\r\n\t)\r\n}\r\n\r\nexport default SearchInput\r\n"]},"metadata":{},"sourceType":"module"}